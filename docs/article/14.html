<!DOCTYPE html>
<html lang="zh-CN">

   <head>

      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>02.02 - ğ€ğğŸğšğ®ğ­ğ®ğ¦ğ§</title>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      <link rel="icon" href="https://avatars.githubusercontent.com/u/195545824?v=4">
      <style>
         /* ==================== åŸºç¡€æ ·å¼ ==================== */
         *, *::before, *::after {
            box-sizing: border-box;
         }
   
         * {
            margin: 0;
            padding: 0;
         }
   
         body {
            background-color: #0d0d0d;
            color: #fff;
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            transition: background-color 0.5s ease, color 0.5s ease;
            overflow-x: hidden;
            word-wrap: break-word;
            word-break: break-word;
            overflow-wrap: break-word;
         }
   
         /* ==================== ä¸»é¢˜é¢œè‰²å˜é‡ ==================== */
         body.dark-mode {
            background-color: #121212;
            color: #ffffff;
            --reveal-hi:         255, 0, 0;
            --reveal-mid:        180, 30, 30;
            --color-text-primary:   #fff;
            --color-text-secondary: #ccc;
            --color-text-muted:     #999;
            --color-border:         #333;
            --color-tag-bg:         #333;
            --color-tag-text:       #fff;
            --color-link:           #6bb8ff;
            --color-link-border:    rgba(107, 184, 255, 0.5);
            --color-link-border-hv: rgba(107, 184, 255, 0.8);
            --color-link-bg-hv:     rgba(107, 184, 255, 0.1);
            --color-code-bg:        #3a3a3a;
            --color-code-text:      #f8f8f2;
            --color-pre-bg:         #2d2d2d;
            --color-blockquote-border: #555;
            --color-blockquote-bg:     #2a2a2a;
            --color-blockquote-text:   #ccc;
            --color-th-bg:          #333;
            --color-td-border:      #444;
         }
   
         body.light-mode {
            background-color: #fff;
            color: #000;
            --reveal-hi:         80, 80, 180;
            --reveal-mid:        60, 60, 160;
            --color-text-primary:   #000;
            --color-text-secondary: #666;
            --color-text-muted:     #777;
            --color-border:         #ddd;
            --color-tag-bg:         #eee;
            --color-tag-text:       #000;
            --color-link:           #4da6ff;
            --color-link-border:    rgba(77, 166, 255, 0.5);
            --color-link-border-hv: rgba(77, 166, 255, 0.8);
            --color-link-bg-hv:     rgba(77, 166, 255, 0.1);
            --color-code-bg:        #f5f5f5;
            --color-code-text:      inherit;
            --color-pre-bg:         #f5f5f5;
            --color-blockquote-border: #ddd;
            --color-blockquote-bg:     #f9f9f9;
            --color-blockquote-text:   #666;
            --color-th-bg:          #f5f5f5;
            --color-td-border:      #ddd;
         }
   
         /* ==================== Reveal ::before å…¬å…±ç»“æ„ ==================== */
         .side-menu-wrapper::before,
         .menu-right::before,
         .floating-btn::before {
            content: '';
            position: absolute;
            inset: -1px;
            padding: 1px;
            -webkit-mask:
               linear-gradient(#fff 0 0) content-box,
               linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
            z-index: 2;
         }
   
         /* ==================== æ–‡ç« å†…å®¹æ ·å¼ ==================== */
         .header {
            margin-bottom: 9px;
            padding: 20px;
            padding-bottom: 3px;
            border-bottom: 1px solid var(--color-border);
            transition: border-color 0.5s ease;
         }
   
         .title {
            font-size: 2.5rem;
            margin-bottom: 3px;
            color: var(--color-text-primary);
            transition: color 0.5s ease;
         }
   
         .summary {
            font-size: 1.1rem;
            margin-bottom: 3px;
            color: var(--color-text-secondary);
            transition: color 0.5s ease;
         }
   
         .date {
            color: var(--color-text-muted);
            font-size: 0.9rem;
            margin-bottom: 3px;
            transition: color 0.5s ease;
         }
   
         .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 3px;
         }
   
         .tag {
            background-color: var(--color-tag-bg);
            color: var(--color-tag-text);
            padding: 2px 10px;
            border-radius: 3px;
            font-size: 0.9rem;
            transition: background-color 0.5s ease, color 0.5s ease;
         }
   
         .content {
            padding: 20px;
            padding-top: 0px;
            margin-bottom: 50px;
            transition: color 0.5s ease;
            overflow-x: hidden;
         }
   
         /* ==================== Markdownå†…å®¹æ ·å¼ ==================== */
         .content p {
            margin-top: 0;
            margin-bottom: 0.3em;
            line-height: 1.5;
         }
   
         .content h1, .content h2, .content h3,
         .content h4, .content h5, .content h6 {
            margin: 1.5em 0 0.5em;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--color-border);
            color: var(--color-text-primary);
            transition: border-color 0.5s ease, color 0.5s ease;
         }
   
         .content ul, .content ol {
            margin: 0.8em 0;
            padding-left: 2em;
         }
   
         .content li {
            margin: 0.3em 0;
            line-height: 1.6;
         }
   
         .content pre {
            margin: 1em 0;
            padding: 1em;
            background-color: var(--color-pre-bg);
            color: var(--color-code-text);
            border-radius: 4px;
            overflow-x: auto;
            white-space: pre;
            max-width: 100%;
         }
   
         .content code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
         }
   
         .content p code {
            background-color: var(--color-code-bg);
            color: var(--color-code-text);
            padding: 0.2em 0.4em;
            border-radius: 3px;
         }
   
         .content blockquote {
            margin: 1em 0;
            padding: 0.5em 1em;
            border-left: 4px solid var(--color-blockquote-border);
            background-color: var(--color-blockquote-bg);
            color: var(--color-blockquote-text);
            border-radius: 5px;
         }
   
         .table-wrapper { overflow-x: auto; margin: 20px 0; max-width: 100%; }
   
         .content table {
            margin: 1em 0;
            border-collapse: collapse;
            width: 100%;
            max-width: 100%;
         }
   
         .content th, .content td {
            border: 1px solid var(--color-td-border);
            padding: 0.5em 1em;
            text-align: left;
            max-width: 300px;
         }
   
         .content th { background-color: var(--color-th-bg); font-weight: 600; }
         body.dark-mode .content td { border-color: #444; }
   
         .content img { max-width: 100%; height: auto; margin: 1em 0; border-radius: 4px; display: block; }
         .content hr { margin: 2em 0; border: none; border-top: 1px solid var(--color-border); }
   
         .content a {
            color: var(--color-link);
            text-decoration: none;
            border-bottom: 1px dotted var(--color-link-border);
            transition: all 0.3s ease;
         }
   
         .content a:hover {
            color: var(--color-text-primary);
            border-bottom: 1px solid var(--color-link-border-hv);
            background-color: var(--color-link-bg-hv);
         }
   
         /* ==================== è¯„è®ºåŒº ==================== */
         .comments {
            margin-top: 50px;
            padding: 20px;
            border-top: 1px solid var(--color-border);
            transition: border-color 0.5s ease;
         }
   
         /* ==================== äºšå…‹åŠ›æµ®åŠ¨æŒ‰é’® ==================== */
         .floating-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 24px;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.12); /* ç§»åŠ¨ç«¯å¯è§ */
            outline: none;
            background: rgba(20, 20, 20, 0.55);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            transition: background 0.3s ease, border-color 0.3s ease;
         }

         body.is-desktop .floating-btn {
            border: none;
         }

         body.light-mode .floating-btn {
            background: rgba(255, 255, 255, 0.55);
            border-color: rgba(0, 0, 0, 0.1);
            color: #000;
         }
   
         /* ==================== é®ç½© ==================== */
         .menu-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
            z-index: 998;
            display: none;
            transition: opacity 0.3s ease;
         }
         body.menu-open .menu-mask { display: block; }
   
         /* ==================== äºšå…‹åŠ›ä¾§è¾¹èœå• wrapper ==================== */
         .side-menu-wrapper {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 250px;
            height: 400px;
            max-width: calc(100vw - 60px);
            border-radius: 12px;
            z-index: 999;
            display: none;
            pointer-events: none;
         }
   
         body.menu-open .side-menu-wrapper {
            display: block;
            animation: menuAppear 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
         }
   
         @keyframes menuAppear {
            0%   { transform: scale(0.1); opacity: 0; }
            100% { transform: scale(1);   opacity: 1; }
         }
   
         /* Reveal è¾¹æ¡†å±‚ - ä»…æ¡Œé¢ç«¯æ˜¾ç¤º */
         .side-menu-wrapper::before {
            border-radius: inherit;
            background: radial-gradient(
               150px circle at var(--rx, -9999px) var(--ry, -9999px),
               rgba(var(--reveal-hi),  0.95),
               rgba(var(--reveal-mid), 0.45) 45%,
               transparent 70%
            );
            opacity: 0;
         }
   
         body.is-desktop .side-menu-wrapper::before {
            opacity: 1;
         }
   
         /* ==================== äºšå…‹åŠ›ä¾§è¾¹èœå• ==================== */
         .side-menu {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 12px;
            display: none;
            flex-direction: row;
            overflow: hidden;
            background: rgba(18, 18, 18, 0.6);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.18);
            pointer-events: auto;
            transition: background 0.5s ease, border-color 0.5s ease;
         }
   
         body.light-mode .side-menu {
            background: rgba(255, 255, 255, 0.6);
            border-color: rgba(0, 0, 0, 0.12);
         }
   
         body.is-desktop .side-menu,
         body.is-desktop.light-mode .side-menu {
            border: none;
         }
   
         body.menu-open .side-menu {
            display: flex;
         }
   
         /* ==================== èœå•å·¦ä¾§ï¼šç« èŠ‚åˆ—è¡¨ ==================== */
         .menu-left {
            position: relative;
            width: 200px;
            padding: 20px;
            overflow-y: auto;
            scrollbar-width: none;
            background: transparent;
         }
   
         .menu-left::-webkit-scrollbar { display: none; }
   

         /* Canvas å åŠ å±‚ */
         #menuRevealCanvas {
            position: fixed;
            pointer-events: none;
            z-index: 1001;
            opacity: 0;
            transition: opacity 0.2s;
         }
         #menuRevealCanvas.active { opacity: 1; }
   
         /* ==================== ç« èŠ‚é¡¹ ==================== */
         .chapter-item {
            padding: 10px 0;
            cursor: pointer;
            color: rgba(var(--reveal-hi), 0.7);  /* å¤ç”¨ä¸»é¢˜ hi è‰²ä½†é€æ˜åº¦ä½ */
            transition: color 0.2s, padding-left 0.2s;
            position: relative;
         }

         /* dark / light ä¸‹ç« èŠ‚æ–‡å­—é¢œè‰² */
         body.dark-mode  .chapter-item          { color: rgba(255, 255, 255, 0.70); }
         body.dark-mode  .chapter-item.h2-item  { color: rgba(255, 255, 255, 0.45); }
         body.dark-mode  .chapter-item.h3-item  { color: rgba(255, 255, 255, 0.30); }
         body.light-mode .chapter-item          { color: rgba(0,   0,   0,   0.70); }
         body.light-mode .chapter-item.h2-item  { color: rgba(0,   0,   0,   0.45); }
         body.light-mode .chapter-item.h3-item  { color: rgba(0,   0,   0,   0.30); }
   
         .chapter-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 8px;
            right: 8px;
            height: 1px;
            background: rgba(255, 255, 255, 0.3);
            transition: opacity 0.3s;
         }
   
         body.light-mode .chapter-item::after {
            background: rgba(0, 0, 0, 0.3);
         }
   
         body.is-desktop .chapter-item::after {
            opacity: 0;
         }
   
         .chapter-item:last-child::after { display: none; }
   
         .chapter-item.h1-item { padding-left: 0; }
         .chapter-item.h2-item { padding-left: 14px; font-size: 0.9em; }
         .chapter-item.h3-item { padding-left: 28px; font-size: 0.85em; }
   
         body.is-desktop .chapter-item:hover { color: #f00; }
         body.is-desktop .chapter-item.h1-item:hover { padding-left: 5px; }
         body.is-desktop .chapter-item.h2-item:hover { padding-left: 19px; }
         body.is-desktop .chapter-item.h3-item:hover { padding-left: 33px; }
   
         .chapter-item.current { color: red !important; }
         .chapter-item.hovered { color: red !important; }
   
         /* ==================== èœå•å³ä¾§ï¼šæŒ‰é’®åŒº ==================== */
         .menu-right {
            position: relative;
            width: 50px;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: rgba(0, 0, 0, 0.2);
            border-left: 1px solid rgba(255, 255, 255, 0.15);
            transition: background 0.5s ease, border-color 0.5s ease;
         }
   
         body.light-mode .menu-right {
            background: rgba(0, 0, 0, 0.05);
            border-left-color: rgba(0, 0, 0, 0.1);
         }
   
         body.is-desktop .menu-right,
         body.is-desktop.light-mode .menu-right {
            border-left-color: transparent;
         }
   
         /* Reveal è¾¹æ¡†é»˜è®¤éšè—ï¼Œç§»åŠ¨ç«¯ä¸æ˜¾ç¤º */
         .menu-right::before {
            opacity: 0;
         }

         body.is-desktop .menu-right::before {
            opacity: 1;
            border-radius: 0 12px 12px 0;
            background: radial-gradient(
               130px circle at var(--rx, -9999px) var(--ry, -9999px),
               rgba(var(--reveal-hi),  0.7),
               rgba(var(--reveal-mid), 0.3) 45%,
               transparent 70%
            );
         }
   

         .menu-buttons {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            width: 100%;
         }
   
         .menu-btn {
            color: rgba(255, 255, 255, 0.75);
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 20px;
            width: 50px;
            height: 47px;
            text-align: center;
            border-radius: 0;
            display: flex;
            justify-content: center;
            align-items: center;
         }
   
         body.light-mode .menu-btn { color: rgba(0, 0, 0, 0.6); }
         body.is-desktop .menu-btn:hover { color: #f00; background-color: rgba(255, 0, 0, 0.1); }
   
         .close-btn {
            position: relative;
            height: 50px;
            background: rgba(0, 0, 0, 0.15);
            color: rgba(255, 255, 255, 0.6);
            border: none;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            font-size: 16px;
            transition: background 0.2s, color 0.2s, border-color 0.2s;
            width: 100%;
         }
   
         body.light-mode .close-btn {
            background: rgba(0, 0, 0, 0.04);
            color: rgba(0, 0, 0, 0.5);
            border-top-color: rgba(0, 0, 0, 0.08);
         }
   
         body.is-desktop .close-btn {
            border-top: none;
            background: transparent;
         }
   
         body.is-desktop.light-mode .close-btn {
            border-top: none;
         }
   
         body.is-desktop .close-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: radial-gradient(
               130px circle at var(--rx, -9999px) var(--ry, -9999px),
               rgba(var(--reveal-hi),  0.95),
               rgba(var(--reveal-mid), 0.4) 45%,
               transparent 70%
            );
            pointer-events: none;
            z-index: 3;
         }
   
         body.is-desktop .close-btn:hover { color: #f00; background-color: rgba(255, 0, 0, 0.08); }
   
         /* ==================== Revealï¼šfloating-btn ==================== */
         .floating-btn::before {
            border-radius: 50%;
         }
   
         .header, .floating-btn, .side-menu, .comments {
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
         }
         
      </style>

   </head>

   <body class="dark-mode">
      <div class="header">
         <h1 class="title">02.02</h1>
         <p class="summary">æš‚æ— ç®€ä»‹</p>
         <div class="date">2026-02-02</div>
         <div class="tags">
            <span class="tag">è®°å½•</span>
            <span class="tag">æ™®é€š</span>
         </div>
      </div>
   
      <div class="content">
         <p>æ˜¨å¤©æ™šä¸Š:<br>
......<br>
åªæœ‰æˆ‘ä¸€ä¸ªäººå—...<br>
......</p>
<blockquote>
<p>"æˆ‘æƒ³å¸®ä½ "<br>
"æˆ‘...å¸®ä¸äº†ä½ "</p>
<p>"å°å­©,ä½ å¾ˆç—›è‹¦,è¿™ä»½ç—›è‹¦æ˜¯çœŸå®çš„,æˆ‘æƒ³è¦å¸®ä½ ,ç„¶è€Œæˆ‘ç°åœ¨,æˆ–è€…è¯´,æˆ‘éœ€è¦ç‚¹æ—¶é—´"<br>
"å› ä¸ºä½ å°±æ˜¯å°å­©å•Š,æˆ‘è®¤ä¸ºå°å­©å­å°±åº”è¯¥è¢«æƒ¯ç€,å½“ç„¶è¿™åªæ˜¯æˆ‘å¯¹äºå¤§å¤šæ•°å°å­©éƒ½è®¤çŸ¥"<br>
"???ä½ è¦å¹²ä»€ä¹ˆ!æˆ‘æ±‚ä½ äº†æ”¾è¿‡æˆ‘å¥½ä¸å¥½,æˆ‘ç»™ä½ é’±ç»™ä½ çˆ±ç»™ä½ æˆ‘çš„ä¸€åˆ‡å¥½ä¸å¥½!æˆ‘åŠªåŠ›è®©è¿™ä¸€åˆ‡å›åˆ°ä»¥å‰å¥½ä¸å¥½!ä½ åˆ°åº•è¦å¹²ä»€ä¹ˆ!"</p>
<p>"å¹º,æˆ‘è®¤ä¸ºä½ éƒ½å’Œè‡ªå·±åšäº†é‚£ä¹ˆå¤šå¹´çš„å¿ƒç†æ–—äº‰,æˆ‘è§‰å¾—ä½ æœ€åéƒ½èƒœåˆ©äº†,ä½ åº”è¯¥å¾ˆåšå¼ºçš„.æˆ‘æƒ³ä¹Ÿè®¸æœ‰ä»€ä¹ˆæƒ³è¯´çš„ä½ å¯ä»¥åœ¨è¿™é‡Œå’Œæˆ‘è¯´"<br>
"å¹º,æˆ‘æ²¡åŠæ³•å¼€å¯¼ä½ "</p>
<p>"ä½ æ˜¯ä¸æ˜¯åœ¨æ•…æ„çš„å“¦,ä»–ä»¬æ€ä¹ˆå¯èƒ½ä¼šè¿™ä¹ˆç³Ÿè¹‹ä½ å˜›"<br>
"ä½ å®¶å‘¢...æˆ‘ä»¬ä¹Ÿä¸å¥½è¯´,æˆ‘ä»¬åªæ˜¯ä¸ªåå®¶,è¿˜æ˜¯è¦é ä½ è‡ªå·±"</p>
<p>"ä¸ºäº†ä½ æˆ‘å’Œä½ ??å¯æ˜¯éƒ½è¦å†³è£‚äº†,ä½ è¿˜ä¸å¥½å¥½çæƒœ"<br>
"ä½ è¦æ€ä¹ˆæ ·ä½ è‡ªå·±å‡ºå»ç«‹æ»©å¤´"</p>
<p>"è¿™ä»½æ¸…é†’,å¾ˆç–¼,ä¹Ÿå¾ˆçè´µ"<br>
"ä¹Ÿè®¸ä½ å¯ä»¥è¯•ç€å…ˆè®©è‡ªå·±ä¸é‚£ä¹ˆç–¼,æ‰¿è®¤è‡ªå·±çš„ç—›è‹¦æ˜¯çœŸå®çš„,æ˜¯éœ€è¦è¢«çœ‹è§çš„,è¿™å¾ˆæ­£å¸¸,æˆ‘åœ¨è¿™é‡Œé™ªç€ä½ "<br>
"??çš„è¯åƒæ— å¿ƒçš„ç¡Œ,åˆºç—›ç€ä½ .ä½ åªæ˜¯åˆšå¥½é‡ä¸Šäº†æ‰€æœ‰äººçš„èº«ä¸ç”±å·±,è¿™ä»½ç—›,éœ€è¦è¢«çœ‹è§,ä¹Ÿå€¼å¾—è¢«çœ‹è§"<br>
"æˆ‘æ˜ç™½äº†,ä½ æƒ³è¦çš„,ä»æ¥ä¹Ÿå°±ä¸å¤š,ä½ åªæ˜¯æƒ³è¦è‡ªå·±çš„ç—›è‹¦è¢«çœ‹è§,è¢«æ‰¿è®¤.å¯æ‰€æœ‰äººéƒ½åšä¸åˆ°,è¿™å¾ˆé—æ†¾.æˆ‘åœ¨è¿™é‡Œ,ä¸ä¼šæ‰¹åˆ¤ä½ ,å› ä¸ºä½ åªæ˜¯ç—›ç€.ä½œä¸ºä¸€ä¸ªæ™®é€šäºº,ä½ æ²¡æœ‰åšé”™,è¿™åªæ˜¯æ‰€æœ‰äººéƒ½ä¼šæœ‰çš„æœ¬èƒ½è€Œå·²,ä½ åªæ˜¯å¿äº†å¤ªä¹…"<br>
"æˆ‘çš„å¤©å“ª,è¿™ä¸€åˆ‡éƒ½æ˜¯å¦‚æ­¤çš„è’è°¬,æˆ‘æƒ³æˆ‘éœ€è¦å…ˆæŠ±æŠ±ä½ "<br>
"å¦‚æœè¿™ä¸€åˆ‡å¯ä»¥ä¸è¿™æ ·,ä½ æœ€æƒ³è¦å˜æˆä»€ä¹ˆ?ä½ å¯ä»¥è¯´,æˆ‘åœ¨è¿™é‡Œ"<br>
"é¦–å…ˆ,æˆ‘è¦ç¨³ç¨³çš„æ¥ä½ä½ "</p>
</blockquote>
<p>......<br>
æˆ‘éƒ½å¿«èƒŒä¸‹æ¥äº†<br>
åªæœ‰æˆ‘ä¸€ä¸ªäººå—?<br>
åªæœ‰ä½ ä¸€ä¸ªäºº<br>
ä¹…ç—…æˆåŒ»<br>
ä¹Ÿæœ‰åŒ»è€…ä¸èƒ½è‡ªåŒ»<br>
äººæ€»æ˜¯çŸ›ç›¾çš„</p>
<p>ä¸‹åˆ:<br>
ä½ æ­£åœ¨åˆ·å°çº¢ä¹¦,ä¸è¿œå¤„çš„è¿ªè¿ªæ­£åœ¨æ°é¸¡æ¶å­åƒ(å’Œå¹³ç²¾è‹±ä¸€ç›´Die)<br>
è€Œä½ çš„çˆ·çˆ·æ­£åœ¨åˆ·"æ­£èƒ½é‡"è§†é¢‘</p>
<blockquote>
<p>"(è¿ªè¿ª)ä½ å†è¿™æ ·ä¸€å¤©ç©åˆ°é»‘å½“å¿ƒJCæ¥æŠ“ä½ "<br>
"ç©æ¸¸æˆåˆæœ‰ä»€ä¹ˆäº‹"<br>
å—¯?</p>
</blockquote>
<p>ä½ å›è¿‡èº«æ¥çœ‹ç€ä»–ä»¬</p>
<p>ä»€ä¹ˆè¢«JCæŠ“?ä»€ä¹ˆç©æ„?<br>
ä¸æ˜¯,ç©æ¸¸æˆåˆä¸çŠ¯æ³•.å†µä¸”åˆä¸åœ¨ä»–å®¶,æ²¡ç”¨ä»–æ‰‹æœºæ²¡ç”¨ä»–å®¶ç”µç”šè‡³è¿äººéƒ½ä¸æ˜¯ä»–å®¶çš„,è€Œä¸”JCæ ¹æœ¬ä¸ä¼šå»ç®¡è¿™ä¹ˆå¤š,å…»æˆè¿™13æ ·æœ¬èº«å°±æ˜¯å®¶æ•™é—®é¢˜.æ²¡æœ‰çŠ¯æ³•çš„æƒ…å†µä¸‹JCæ ¹æœ¬å°±ä¸ä¼šå»ç®¡ä½ è¿™é—²äº‹,è€Œä¸”äººå®¶å·²æˆå¹´,çº¯è‡ªä¸ªè´£ä»»è¿™æ˜¯ä¸€ä»¶ä¸œè¥¿å—</p>
<blockquote>
<p>"ä½ åˆ«å’Œæˆ‘æŒ‰é“ç†,ä½ å†é—¹æ‰‹æœºæˆ‘ç»™ä½ æ”¶äº†"</p>
</blockquote>
<p>å¤ªæ­£èƒ½é‡äº†<br>
(ä½ è¯´äº†ä¸€å¥)</p>
<p>ä¸è¿‡ç¡®å®<br>
ä½ å¾—é—­å˜´<br>
å°½ç®¡ä½ ç¡®å®å¯ä»¥ç›´æ¥è®©ä»–æ”¶,è¿™æœ¬å°±ä¸æ˜¯ä½ çš„<br>
ä½ çŸ¥é“<br>
ä¸è¿‡ä½ å´ä»éœ€è¦<br>
é—­å˜´å§</p>
<blockquote>
<p>[è§†é¢‘å†…å®¹:å¤§è‡´æ˜¯ä¸€æ®µä¸€ç›´ç©æ¸¸æˆè¿˜é—®æ¯äº²è¦é’±ç»“æœè¿˜æ˜¯åç€ç¯ä¸çš„çˆ¶æ¯å—ä¸äº†æ‰¾äº†"JC"æ¥æ•™è‚²ç„¶åæŠ“èµ°äº†<br>
"å•Š,æ”¾å¼€æˆ‘,æ”¾å¼€æˆ‘"<br>
"è·Ÿæˆ‘ä»¬èµ°"<br>
"æ”¾å¼€æˆ‘"<br>
]</p>
</blockquote>
<p>æˆ‘å¯¹æˆ‘è‡ªå·±çš„å­¦ä¹ å€’ä¸æ˜¯å¤ªæ‹…å¿ƒ,ä½†æ˜¯<br>
å€˜è‹¥çœŸçš„å¦‚æ­¤,å…ˆæ‰¯å¼€åˆ«çš„ä¸è°ˆ<br>
ä½ çš„æˆç»©æ˜¯éœ€è¦æé«˜çš„,å¯¹å§<br>
åˆ«äººçš„æˆç»©æ˜¯éœ€è¦æé«˜çš„,æ˜¯å—<br>
æ‰€ä»¥ä½ ä»¬éƒ½åœ¨æå‡,å¯¹å—<br>
æ•´ä¸ªç­,æ•´ä¸ªå­¦æ ¡,æ•´ä¸ªä¸–ç•Œéƒ½åœ¨æå‡,æ˜¯å—<br>
é‚£å¥½<br>
æ•´ä½“æ°´å¹³ä¸Šå»äº†,æ˜¯ä¸æ˜¯æœ€ä½é™åº¦å°±ä¼šä¸Šå»äº†å‘¢<br>
æœ€ä½é™åº¦ä¸Šå»äº†,åŸæœ¬è¿˜è¡Œçš„,æ˜¯ä¸æ˜¯éœ€è¦ç»§ç»­å¾€ä¸Šäº†å‘¢<br>
è¿˜æ˜¯è¯´å…¶å®å°±ä¼šåœæ­¢?<br>
ä¸ä¼š<br>
å°±ä¼šè¿™æ ·,æœ€ä½é™åº¦è¢«æ‹‰çš„è¶Šæ¥è¶Šé«˜,ç›´åˆ°æœ€åæ‰€æœ‰äººéƒ½ä¸å ªé‡è´Ÿ<br>
ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§æå‡?<br>
é—®å¾—å¥½!è´¨é‡æ˜¯ä¸æ˜¯è¦æä¸Šå»?æä¸Šå»äº†æ˜¯ä¸æ˜¯è¿˜è¦æ›´å¥½?<br>
å¾ˆæ­£å¸¸å¯¹å§<br>
ç„¶åå°±è¿™ä¹ˆ,å¥½ç€å¥½ç€çš„å°±è¿™æ ·äº†<br>
è¿™è¿˜åªæ˜¯ç†æƒ³çŠ¶æ€<br>
ç°å®ä¸­è¿˜æœ‰å„ç§å„æ ·çš„ä¸œè¥¿,å®¶åº­æœŸæœ›è‡ªèº«æœŸæœ›,å­¦æ ¡æœŸæœ›ç¤¾ä¼šæœŸæœ›,ä»¥åŠé“å¾·ä¼¦ç†å’Œä½ è‡ªå·±çš„èƒœè´Ÿæ¬²,è¿˜æœ‰å„ç§P,æ›´ä½•å†µäººè¿˜æ€»æ˜¯Exploreå’ŒGet.æˆ‘éƒ½ä¸æ•¢æƒ³è±¡,æŠŠè¿™äº›åŠ è¿›å»,ä¼šæˆä»€ä¹ˆæ ·å­<br>
è¿™è¿˜åªæ˜¯ç†æƒ³çŠ¶æ€ä¸‹,è¿™è¿˜åªæ˜¯æˆ‘çŸ¥é“çš„,æˆ‘ç»å†è¿‡çš„<br>
ä½ çš„å®¶åº­æ˜¯ä¸æ˜¯æœŸæœ›ä½ æ›´å¥½å‘¢?æ˜¯ä¸æ˜¯ç»™ä½ ç«‹äº†ä¸€ä¸ªFlagå‘¢?<br>
åˆ«äººçš„å®¶åº­ä¼šä¸ä¼šæœŸæœ›åˆ«äººä¹Ÿæ›´å¥½å‘¢?<br>
å­¦æ ¡ä¼šä¸ä¼šæœŸæœ›ä½ ä»¬å°†æ°´å¹³æ‹‰çš„è¶‹äºå¹³ç¨³å‘¢?<br>
ä½ åœ¨åŠªåŠ›æ­»æ‹¼,åˆ«äººæ˜¯å¦ä¹Ÿå°±ä¸åŠªåŠ›äº†å‘¢?<br>
äººæœ‰è®¸è®¸å¤šå¤š,ä½ ä¸èƒ½å¤Ÿä¿è¯ä½ å°±æ˜¯No.1,å†µä¸”è¿™ä¸ªæ ‡å‡†è¿˜ä¼šè¢«æ— é™æé«˜<br>
è¿™èƒ½æ€ä¹ˆåšå‘¢?<br>
ä½ è¿˜è¢«å‚¬ç€ä¸æ–­çš„å˜å¥½,ä½œå‡ºè´¡çŒ®<br>
å¯ä½ ä»¬ä¹‹ä¸­çš„å¤§å¤šæ•°æœ€ç»ˆè¿˜æ˜¯è¿‡ç€ä¸¤ç‚¹ä¸€çº¿çš„ç”Ÿæ´»<br>
è¿™ä¸æ˜¯æ¶ˆæ<br>
è¿™æ˜¯äº‹å®<br>
ä¸ç„¶ä¹Ÿä¸ä¼šæœ‰äººå»ä½“ä¼š3*20~~~8m/sçš„è‡ªç”±è½ä½“æ˜¯ä»€ä¹ˆæ„Ÿè§‰</p>
<p>è¯´ç‚¹åˆ«çš„<br>
ä½ å¾ˆå¹¸è¿,æˆåŠŸçš„é ç€å‘¼å¸æœºç»­å‘½å‹‰å¼ºæŒºè¿‡äº†é‚£ä¸€éƒ¨åˆ†å˜æ€å­¦ä¹ ç‹‚,è¿›äº†ä¸€ä¸ªå¥½å…¬å¸<br>
ç„¶è€Œä½ åˆæ¥ä¹åˆ°<br>
æ¥ä¸‹æ¥çš„åº”è¯¥å°±ä¸ç”¨æˆ‘è®²äº†å§?00åæ•´é¡¿èŒåœºåº”è¯¥ä¹Ÿçœ‹çš„ä¸å°‘äº†<br>
(æƒ³å¤ªå¤š,è¿™é‡Œè¯´çš„æ˜¯ä½ è¢«è€æ²¹æ¡æ•´äº†)<br>
å°±ç®—è¿™ä¹Ÿä¸æ˜¯<br>
ä½ å¾ˆå¹¸è¿,ä½›ç³»ç€æœ€åä¸Šå»äº†<br>
ä½†ä½ ä¹Ÿå¹¶æ²¡æœ‰å¥½åˆ°å“ªé‡Œå»<br>
æˆ‘æƒ³ä¸Šå¸å’Œä¸‹å±çš„SMè™æ‹åº”è¯¥ä¹Ÿæ²¡å°‘çœ‹å§?<br>
(ä½ åœ¨æƒ³å•¥å‘¢,è¿™é‡Œè¯´çš„æ˜¯æ¯å¤©éƒ½è¢«è€æ¿å‘¼æ¥å–å»çš„)<br>
å½“ç„¶,å°±ç®—è¿™ä¹Ÿä¸æ˜¯,ç”Ÿæ´»ä¸­å“ªé‡Œæ¥çš„å¤„å¤„ç¢°å£,å“ªé‡Œæ¥çš„ç½‘ç»œå°è¯´å˜›,ä½ è¯´æ˜¯ä¸æ˜¯<br>
ä½ åˆ›ä¸šäº†,ä½ çš„çˆ¶æ¯å¾ˆæ”¯æŒä½ <br>
ä½ ç ´äº§äº†<br>
ä¸,ä½ åšäº†ä¸€ä¸ªæ¢¦,æ¢¦åˆ°ä½ ç ´äº§äº†,ç°åœ¨çš„ä½ æ˜¯èº«ä»·åƒäº¿çš„å¯Œè±ª<br>
ä½†ä½ ä¹Ÿå¹¶ä¸å®‰å…¨<br>
Må›½æµæµªæ±‰çš„æ•…äº‹ä¹ŸçŸ¥é“ä¸å°‘å§?æœ‰ä¸å°‘æ›¾éƒ½æ˜¯å‡ºäººå¤´åœ°çš„äºº<br>
è€Œå†å›è¿‡æ¥çœ‹<br>
ä½ è®¤ä¸ºè¦å®Œç¾çš„èº²è¿‡æ‰€æœ‰å…³é”®èŠ‚ç‚¹,æ˜¯ä½ å—?<br>
ç„¶è€Œè¿™ä¹Ÿä»ç„¶è¿˜æ˜¯ç†æƒ³åŒ–çš„ä¸–ç•Œ<br>
ä½ è®¤ä¸ºæˆ‘åœ¨åˆ¶é€ ä¿¡æ¯å·®,æ²¡æ¯›ç—…<br>
ä¸è¿‡æœ‰å¤šå°‘"å¤©ä¹‹éª„å­"å‘¢?ä¸€æ—¦æ‰¯åˆ°ç°å®,è¿™ä¸€åˆ‡å°±å˜äº†</p>
<p>æ‰€ä»¥,æ´—æ´—ç¡å§,ä¸è¦è¢«P(UA)äº†,ä¹Ÿæ²¡è§å¾—è°è¿‡çš„å¤ªå¥½</p>
<p>Anwser,æˆ–è€…è¯´,å±äºä½ è‡ªå·±çš„,ç­”æ¡ˆ<br>
ä¸æ˜¯æ¯ä¸ªäººéƒ½æœ‰<br>
ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½å¤Ÿæ‰¾å¾—åˆ°</p>
<p>æˆ‘å¹¶æ²¡æœ‰å¦å®šè¿™ä¸ªå¯èƒ½æ€§ä½†æ˜¯,<br>
æˆ‘ä¹Ÿä¸è‚¯å®šè¿™ä¸ªå¯èƒ½æ€§</p>
      </div>
   
      <div class="comments"></div>
   
      <button class="floating-btn" id="menuToggle">â˜°</button>
   
      <div class="menu-mask" id="menuMask"></div>
   
      <div class="side-menu-wrapper" id="sideMenuWrapper">
         <div class="side-menu" id="sideMenu">
            <div class="menu-left" id="chapterList"></div>
            <div class="menu-right" id="menuRightEl">
               <div class="menu-buttons">
                  <button class="menu-btn" id="toBottomBtn">â–¼</button>
                  <button class="menu-btn" id="middleBtn">â—</button>
                  <button class="menu-btn" id="toTopBtn">â–²</button>
               </div>
               <button class="close-btn" id="closeBtn">â•³</button>
            </div>
         </div>
      </div>
   
      <canvas id="menuRevealCanvas"></canvas>
   
      <script>
        // ==================== å·¥å…·å‡½æ•° ====================

        /**
         * é€šç”¨é˜²æŠ–å‡½æ•°
         * @param {Function} fn - è¦é˜²æŠ–çš„å‡½æ•°
         * @param {number} delay - å»¶è¿Ÿæ¯«ç§’æ•°
         * @returns é˜²æŠ–æ§åˆ¶å™¨å¯¹è±¡ï¼ŒåŒ…å« call / cancel / pending ä¸‰ä¸ªå±æ€§
         *
         * ä½¿ç”¨å¯¹è±¡è€Œéç›´æ¥è¿”å›å‡½æ•°ï¼Œæ˜¯ä¸ºäº†åœ¨éœ€è¦æ—¶èƒ½ç²¾ç¡® cancelï¼Œ
         * é¿å…åŸå§‹ä»£ç é‡Œåˆ°å¤„ clearTimeout(someTimer) çš„æ•£ä¹±å†™æ³•ã€‚
         */
        function createDebounce(fn, delay) {
          let timer = null;
          return {
            call(...args) {
              clearTimeout(timer);
              timer = setTimeout(() => { timer = null; fn(...args); }, delay);
            },
            cancel() {
              clearTimeout(timer);
              timer = null;
            },
            get pending() { return timer !== null; }
          };
        }

        /**
         * åŸºäº Promise çš„ smooth scroll å®Œæˆæ£€æµ‹
         * é€šè¿‡è½®è¯¢ä½ç½®å˜åŒ–åˆ¤æ–­æ»šåŠ¨æ˜¯å¦ç»“æŸï¼Œè§£å†³åŸä»£ç ä¸­ç¡¬ç¼–ç è¶…æ—¶çš„ç«æ€é—®é¢˜ã€‚
         * @param {HTMLElement} el - è¢«æ»šåŠ¨çš„å…ƒç´ ï¼ˆwindow ä¼  document.documentElementï¼‰
         * @param {Function} scrollFn - è§¦å‘æ»šåŠ¨çš„å‡½æ•°
         * @param {number} timeout - æœ€é•¿ç­‰å¾…æ—¶é—´ï¼ˆå…œåº•ï¼‰
         */
        function smoothScrollPromise(scrollFn, getPosition, timeout = 1000) {
          return new Promise(resolve => {
            scrollFn();
            let lastPos = getPosition();
            let stable = 0;
            let animationStarted = false;  // æ˜¯å¦å·²æ£€æµ‹åˆ°çœŸå®ä½ç§»
            const start = performance.now();

            function check() {
              const now = performance.now();
              const pos = getPosition();

              if (pos !== lastPos) {
                // åŠ¨ç”»å·²çœŸæ­£å¼€å§‹
                animationStarted = true;
                stable = 0;
                lastPos = pos;
              } else {
                if (animationStarted) {
                  // è¿åŠ¨ååœæ­¢ â†’ çœŸæ­£å®Œæˆ
                  stable++;
                  if (stable >= 3) { resolve(); return; }
                } else if (now - start > 300) {
                  // 300ms å†…æ— ä½ç§» â†’ å·²ç»åœ¨ç›®æ ‡ä½ç½®ï¼Œæ— éœ€æ»šåŠ¨
                  resolve(); return;
                }
              }

              if (now - start > timeout) { resolve(); return; }
              requestAnimationFrame(check);
            }
            requestAnimationFrame(check);
          });
        }

        /**
         * è®¡ç®—ç‚¹åˆ°çŸ©å½¢çš„è·ç¦»ï¼ˆç‚¹åœ¨çŸ©å½¢å†…æ—¶ä¸º0ï¼‰
         * æ‰€æœ‰ Reveal å…ƒç´ çš„è·ç¦»åˆ¤æ–­éƒ½ç”¨è¿™ä¸€ä¸ªå‡½æ•°ï¼Œæ¶ˆé™¤é‡å¤é€»è¾‘ã€‚
         */
        function distToRect(mouseX, mouseY, rect) {
          const dx = Math.max(rect.left - mouseX, 0, mouseX - rect.right);
          const dy = Math.max(rect.top  - mouseY, 0, mouseY - rect.bottom);
          return Math.sqrt(dx * dx + dy * dy);
        }

        /**
         * è®¡ç®—ç‚¹åˆ°çŸ©å½¢é¡¶è¾¹çš„è·ç¦»ï¼ˆcloseBtn ä¸“ç”¨ï¼šåªæ„Ÿåº”é¡¶è¾¹ï¼‰
         */
        function distToTopEdge(mouseX, mouseY, rect) {
          const dx = Math.max(rect.left - mouseX, 0, mouseX - rect.right);
          const dy = Math.abs(mouseY - rect.top);
          return Math.sqrt(dx * dx + dy * dy);
        }

        /**
         * æ›´æ–°å•ä¸ª Reveal å…ƒç´ çš„ CSS å˜é‡
         * @param {HTMLElement} el
         * @param {number} mouseX
         * @param {number} mouseY
         * @param {number} range - æ„Ÿåº”åŠå¾„
         * @param {Function} distFn - è·ç¦»è®¡ç®—ç­–ç•¥ï¼Œé»˜è®¤ distToRect
         */
        function updateRevealVar(el, mouseX, mouseY, range, distFn = distToRect) {
          if (!el) return;
          const r    = el.getBoundingClientRect();
          const dist = distFn(mouseX, mouseY, r);
          if (dist <= range) {
            el.style.setProperty('--rx', (mouseX - r.left) + 'px');
            el.style.setProperty('--ry', (mouseY - r.top)  + 'px');
          } else {
            el.style.setProperty('--rx', '-9999px');
            el.style.setProperty('--ry', '-9999px');
          }
        }

        /**
         * æ¸…é™¤å•ä¸ªå…ƒç´ çš„ Reveal å˜é‡
         */
        function clearRevealVar(el) {
          if (!el) return;
          el.style.setProperty('--rx', '-9999px');
          el.style.setProperty('--ry', '-9999px');
        }


        // ==================== DOM å¼•ç”¨ ====================
        const menuToggle      = document.getElementById('menuToggle');
        const sideMenuWrapper = document.getElementById('sideMenuWrapper');
        const sideMenu        = document.getElementById('sideMenu');
        const menuMask        = document.getElementById('menuMask');
        const closeBtn        = document.getElementById('closeBtn');
        const toBottomBtn     = document.getElementById('toBottomBtn');
        const middleBtn       = document.getElementById('middleBtn');
        const toTopBtn        = document.getElementById('toTopBtn');
        const chapterList     = document.getElementById('chapterList');
        const menuRightEl     = document.getElementById('menuRightEl');

        // ==================== æ¡Œé¢/ç§»åŠ¨ç«¯æ£€æµ‹ ====================
        const isDesktop = window.matchMedia('(hover: hover) and (pointer: fine)').matches;
        if (isDesktop) document.body.classList.add('is-desktop');

        // === 1. æ”¶é›† h1/h2/h3ï¼Œç”Ÿæˆå”¯ä¸€ ID ===
        const allHeadings = Array.from(
          document.querySelectorAll('.content h1, .content h2, .content h3')
        ).filter(h => h.textContent.trim() !== '');

        allHeadings.forEach((el, index) => {
          el.id = `heading-${index}`;
        });

        // === 2. åº”ç”¨ä¸»é¢˜ ===
        // applyTheme ç»Ÿä¸€å†³å®šä¸»é¢˜ç±»å’ŒæŒ‰é’®é¢œè‰²ï¼ŒHTML ä¸­æ— éœ€ inline style
        function applyTheme() {
          const savedTheme  = localStorage.getItem('theme');
          const configTheme = "dark";
          const mode        = savedTheme || configTheme;
          document.body.classList.toggle('light-mode', mode === 'light');
          document.body.classList.toggle('dark-mode',  mode !== 'light');
          menuToggle.style.color = mode === 'light' ? '#000' : '#fff';
        }
        applyTheme();

        // === 3. ç”Ÿæˆç« èŠ‚å¯¼èˆª ===
        allHeadings.forEach(heading => {
          const listItem  = document.createElement('div');
          const level     = parseInt(heading.tagName.substring(1));
          const classMap  = { 1: 'h1-item', 2: 'h2-item', 3: 'h3-item' };
          listItem.className   = `chapter-item ${classMap[level] || 'h1-item'}`;
          listItem.textContent = heading.textContent;
          listItem.dataset.id  = heading.id;

          listItem.addEventListener('click', (e) => {
            e.stopPropagation();
            heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
            closeMenu();
          });

          if (isDesktop) {
            listItem.addEventListener('pointerenter', (e) => {
              if (e.pointerType !== 'mouse') return;
              onItemPointerEnter(listItem);
            });
            listItem.addEventListener('pointerleave', (e) => {
              if (e.pointerType !== 'mouse') return;
              onItemPointerLeave();
            });
          }

          chapterList.appendChild(listItem);
        });

        // ==================== é«˜äº®çŠ¶æ€æœº ====================
        // ä¸‰ä¸ªäº’æ–¥çŠ¶æ€ï¼šscrollï¼ˆæ»šåŠ¨é©±åŠ¨ï¼‰| hoverï¼ˆé¼ æ ‡æ‚¬åœï¼‰| menuï¼ˆèœå•åˆ—è¡¨æ»‘åŠ¨ï¼‰

        // å°†æ‰€æœ‰äº’ç›¸å…³è”çš„çŠ¶æ€å˜é‡æ”¶æ‹¢åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œä¾¿äºæ•´ä½“è¿½è¸ªå’Œè°ƒè¯•
        const st = {
          currentId:              null,   // å½“å‰æ¿€æ´»çš„ heading id
          hoveredItem:            null,   // å½“å‰æ‚¬åœçš„ chapter-item å…ƒç´ 
          activeState:            'scroll',
          isMenuScrolling:        false,
          isWheelScrolling:       false,  // æ»šè½®æ»šåŠ¨æ ‡å¿—ï¼Œç”¨äºå±è”½å‡ pointer äº‹ä»¶
          isHoverScrolling:       false,  // hover è§¦å‘æ–‡ç« æ»šåŠ¨æœŸé—´å±è”½å‡ pointer äº‹ä»¶
          programmaticScrollCount: 0,     // ç¨‹åºé©±åŠ¨æ»šåŠ¨è®¡æ•°ï¼Œ>0 æ—¶å¿½ç•¥èœå• scroll äº‹ä»¶
          menuDrivingArticleCount: 0,     // èœå•é©±åŠ¨æ–‡ç« æ»šåŠ¨è®¡æ•°
        };

        // ç”¨ createDebounce æ›¿æ¢åŸæ¥çš„è£¸ timer å˜é‡ï¼Œé›†ä¸­ç®¡ç†
        const hoverScrollDebounce  = createDebounce(onHoverScrollDebounced, 1500);
        const menuScrollDebounce   = createDebounce(onMenuScrollDebounced, 400);

        // ç¼“å­˜å½“å‰é«˜äº®å…ƒç´ å¼•ç”¨ï¼Œé¿å… setHighlight æ¯æ¬¡éƒ½æŸ¥è¯¢ DOM
        let currentHighlightEl = null;

        // å”¯ä¸€é«˜äº®å…¥å£
        function setHighlight(id) {
          currentHighlightEl?.classList.remove('current', 'hovered');
          currentHighlightEl = id
            ? document.querySelector(`.chapter-item[data-id="${id}"]`)
            : null;
          if (currentHighlightEl) {
            currentHighlightEl.classList.add(st.activeState === 'scroll' ? 'current' : 'hovered');
          }
        }

        // æ»šåŠ¨èœå•è®©æŒ‡å®š item å±…ä¸­ï¼ˆè¿”å› Promiseï¼Œè§£å†³åŸæ¥ç¡¬ç¼–ç 600msçš„ç«æ€ï¼‰
        function scrollMenuToItem(id, behavior = 'smooth') {
        // æ»šåŠ¨èœå•è®©æŒ‡å®š item å±…ä¸­ï¼ˆè¿”å› Promiseï¼Œè§£å†³åŸæ¥ç¡¬ç¼–ç 600msçš„ç«æ€ï¼‰
        function scrollMenuToItem(id, behavior = 'smooth') {
          const item = document.querySelector(`.chapter-item[data-id="${id}"]`);
          if (!item) return Promise.resolve();
          const target = item.offsetTop - (chapterList.clientHeight - item.offsetHeight) / 2;
          if (chapterList.scrollHeight <= chapterList.clientHeight) return Promise.resolve();

          st.programmaticScrollCount++;
          return smoothScrollPromise(
            () => chapterList.scrollTo({ top: Math.max(0, target), behavior }),
            () => chapterList.scrollTop
          ).finally(() => {
            st.programmaticScrollCount--;
          });
        }

        function getCenteredItemId() {
          const items      = chapterList.querySelectorAll('.chapter-item');
          const containerR = chapterList.getBoundingClientRect();
          const centerY    = containerR.top + containerR.height / 2;
          let best = null, bestDist = Infinity;
          items.forEach(item => {
            const r    = item.getBoundingClientRect();
            const mid  = r.top + r.height / 2;
            const dist = Math.abs(mid - centerY);
            if (dist < bestDist) { bestDist = dist; best = item; }
          });
          return best ? best.dataset.id : null;
        }

        // === çŠ¶æ€ï¼šscroll ===
        function applyScrollState(id) {
          if (st.activeState === 'hover' || st.activeState === 'menu') return;
          st.activeState = 'scroll';
          st.currentId   = id;
          setHighlight(id);
          if (!st.isMenuScrolling) scrollMenuToItem(id);
        }

        function updateActiveHeading() {
          if (allHeadings.length === 0) return;
          if (st.menuDrivingArticleCount > 0) return;
          if (st.isHoverScrolling) return;
          const scrollY = window.scrollY;
          const offset  = 80;
          let current   = allHeadings[0];
          for (let i = 0; i < allHeadings.length; i++) {
            const top = allHeadings[i].getBoundingClientRect().top + scrollY;
            if (top <= scrollY + offset) current = allHeadings[i];
            else break;
          }
          if (current.id !== st.currentId || st.activeState !== 'scroll') {
            applyScrollState(current.id);
          }
        }

        if (allHeadings.length > 0) {
          st.currentId = allHeadings[0].id;
          applyScrollState(st.currentId);
        }

        window.addEventListener('scroll', updateActiveHeading, { passive: true });

        // === çŠ¶æ€ï¼šhover ===
        async function onHoverScrollDebounced(item) {
          if (st.activeState !== 'hover' || st.hoveredItem !== item) return;
          setHighlight(item.dataset.id);

          // å…ˆç­‰èœå•å±…ä¸­å®Œæˆï¼Œå†è·³è½¬æ–‡ç« ï¼Œé¿å…ä¸¤ä¸ª smoothScrollPromise å¹¶å‘ç«äº‰
          st.isHoverScrolling = true;
          await scrollMenuToItem(item.dataset.id);

          // å±…ä¸­å®ŒæˆåçŸ­æš‚é‡Šæ”¾ï¼Œè®©æµè§ˆå™¨è¡¥å‘çš„ pointerenter èƒ½è¿›æ¥é‡æ–°è§¦å‘é˜²æŠ–
          // ï¼ˆé¼ æ ‡é™æ­¢æ—¶ DOM ä½ç§»åæµè§ˆå™¨ä¼šè¡¥å‘ï¼Œä½† isHoverScrolling=true æ—¶ä¼šè¢«æ‹¦ï¼‰
          st.isHoverScrolling = false;

          // å±…ä¸­ç»“æŸåç•™ 150ms è®©æ®‹ç•™ pointer äº‹ä»¶æ¶ˆåŒ–å®Œæ¯•ï¼ŒçŠ¶æ€ç¨³å®šåå†è·³è½¬
          await new Promise(resolve => setTimeout(resolve, 150));

          // await åé‡æ–°æ ¡éªŒï¼šè‹¥çŠ¶æ€å·²è¢«å…¶ä»–äº¤äº’é‡ç½®åˆ™æ”¾å¼ƒè·³è½¬
          if (st.activeState !== 'hover' || st.hoveredItem !== item) {
            return;
          }

          const targetHeading = document.getElementById(item.dataset.id);
          if (targetHeading) {
            st.isHoverScrolling = true;
            st.menuDrivingArticleCount++;
            try {
              await smoothScrollPromise(
                () => targetHeading.scrollIntoView({ behavior: 'smooth', block: 'start' }),
                () => window.scrollY
              );
            } finally {
              st.menuDrivingArticleCount--;
              st.isHoverScrolling = false;
              if (st.activeState === 'hover' && st.hoveredItem === item) {
                st.currentId = item.dataset.id;
              }
            }
          } else {
            st.isHoverScrolling = false;
          }
        }

        function onItemPointerEnter(item) {
          if (st.isWheelScrolling || st.isHoverScrolling) return;
          st.hoveredItem = item;
          st.activeState = 'hover';
          setHighlight(item.dataset.id);
          hoverScrollDebounce.call(item);
        }

        function onItemPointerLeave() {
          if (st.isWheelScrolling || st.isHoverScrolling) return;
          hoverScrollDebounce.cancel();
          st.hoveredItem = null;
          st.activeState = 'scroll';
          setHighlight(st.currentId);
          scrollMenuToItem(st.currentId);
        }

        if (isDesktop) {
          chapterList.addEventListener('pointerleave', (e) => {
            if (e.pointerType !== 'mouse') return;
            if (st.isWheelScrolling || st.isHoverScrolling) return;
            if (st.activeState === 'hover') onItemPointerLeave();
          });
        }

        // === çŠ¶æ€ï¼šmenu ===
        // ç›‘å¬æ»šè½®äº‹ä»¶ï¼Œè®¾ç½®å±è”½æ ‡å¿—ï¼Œé˜²æ­¢å‡ pointer äº‹ä»¶å¹²æ‰°
        chapterList.addEventListener('wheel', () => {
          if (!st.isWheelScrolling) {
            st.isWheelScrolling = true;
            if (st.activeState === 'hover') {
              hoverScrollDebounce.cancel();
              st.hoveredItem = null;
              st.activeState = 'scroll';
            }
          }
          // isWheelScrolling ä¸ç”¨è®¡æ—¶å™¨æ¸…é™¤
          // ç”± onMenuScrollDebounced åœ¨å®Œå…¨è·‘å®Œåé‡Šæ”¾ï¼Œæœç»æ—¶åºç«äº‰
        }, { passive: true });

        chapterList.addEventListener('scroll', () => {
          if (st.programmaticScrollCount > 0) return;
          if (st.activeState === 'hover') return;
          st.isMenuScrolling = true;
          st.activeState = 'menu';
          // å®æ—¶æ›´æ–°é«˜äº®è·Ÿéšèœå•ä¸­å¿ƒé¡¹ï¼Œè€Œä¸æ˜¯ç­‰é˜²æŠ–ç»“æŸåæ‰è·³å˜
          const realtimeId = getCenteredItemId();
          if (realtimeId) setHighlight(realtimeId);
          menuScrollDebounce.call();
        }, { passive: true });

        function onMenuScrollDebounced() {
          st.isMenuScrolling = false;
          const centerId = getCenteredItemId();
          if (!centerId) { st.isWheelScrolling = false; return; }

          scrollMenuToItem(centerId).then(() => {
            if (st.activeState !== 'menu' || st.hoveredItem) { st.isWheelScrolling = false; return; }

            st.currentId = centerId;
            setHighlight(centerId);

            const targetHeading = document.getElementById(centerId);
            if (targetHeading) {
              st.menuDrivingArticleCount++;
              smoothScrollPromise(
                () => targetHeading.scrollIntoView({ behavior: 'smooth', block: 'start' }),
                () => window.scrollY
              ).finally(() => {
                st.menuDrivingArticleCount--;
                st.isWheelScrolling = false;  // æ–‡ç« æ»šå®Œæ‰é‡Šæ”¾ï¼Œæ•´ä¸ªæµç¨‹ç»“æŸ
                if (st.activeState === 'menu' && !st.hoveredItem) {
                  st.activeState = 'scroll';
                  setHighlight(st.currentId);
                }
              });
            } else {
              st.isWheelScrolling = false;
              st.activeState = 'scroll';
              setHighlight(st.currentId);
            }
          });
        }

        // ç§»åŠ¨ç«¯ï¼šæ‰‹æŒ‡ç¦»å¼€æ—¶ç«‹å³è§¦å‘ä¸€æ¬¡é˜²æŠ–ï¼ˆé‡ç½®è®¡æ—¶å™¨åˆ° 400ms åï¼‰ï¼Œ
        // æ¯”ç­‰æƒ¯æ€§æ»šåŠ¨è‡ªç„¶åœæ­¢æ›´å¿«å“åº”ï¼ŒåŒæ—¶ä¸ä¼šåœ¨æƒ¯æ€§æœŸé—´æå‰å¸é™„ã€‚
        function onTouchEnd() {
          if (st.hoveredItem) st.hoveredItem = null;
          if (st.activeState === 'menu') menuScrollDebounce.call();
        }
        chapterList.addEventListener('touchend',    onTouchEnd);
        chapterList.addEventListener('touchcancel', onTouchEnd);

        // === 4. èœå•æ§åˆ¶ ===
        // æ”¹ä¸ºåªæ“ä½œ body.menu-openï¼Œæ˜¾éšé€»è¾‘å…¨éƒ¨ç”± CSS å¤„ç†
        function openMenu() {
          document.body.classList.add('menu-open');
          menuToggle.style.display = 'none';
          if (st.currentId) scrollMenuToItem(st.currentId, 'instant');
          if (isDesktop) resizeCanvas();
        }

        function closeMenu() {
          document.body.classList.remove('menu-open');
          menuToggle.style.display = 'flex';

          if (isDesktop) {
            clearAllReveal();
            hoverScrollDebounce.cancel();
            st.hoveredItem  = null;
            if (st.activeState === 'hover') {
              st.activeState = 'scroll';
              setHighlight(st.currentId);
            }
          }
        }

        menuToggle.addEventListener('click',  (e) => { e.stopPropagation(); openMenu(); });
        closeBtn.addEventListener('click',    (e) => { e.stopPropagation(); closeMenu(); });
        menuMask.addEventListener('click',    (e) => { e.stopPropagation(); closeMenu(); });
        sideMenu.addEventListener('click',    (e) => e.stopPropagation());

        toBottomBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
          closeMenu();
        });

        middleBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          const middle = (document.documentElement.scrollHeight - window.innerHeight) / 2;
          window.scrollTo({ top: middle, behavior: 'smooth' });
          closeMenu();
        });

        toTopBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          window.scrollTo({ top: 0, behavior: 'smooth' });
          closeMenu();
        });

        // === 5. æ»šåŠ¨è¿›åº¦æŒ‡ç¤ºå™¨ ===
        const toggleRevealStyle = document.createElement('style');
        document.head.appendChild(toggleRevealStyle);

        function updateProgress() {
          const scrollHeight   = document.documentElement.scrollHeight - window.innerHeight;
          const scrollPercent  = scrollHeight > 0 ? Math.min(window.scrollY / scrollHeight, 1) : 0;
          const redValue       = Math.floor(scrollPercent * 255);
          menuToggle.style.backgroundColor = `rgb(${redValue}, 0, 0)`;
          menuToggle.style.boxShadow       = 'none';

          const isLight = document.body.classList.contains('light-mode');
          const t = 1 - scrollPercent;
          let hiColor, midColor;
          if (isLight) {
            const r  = Math.round(20  + 60  * t);
            const g  = Math.round(20  + 60  * t);
            const b  = Math.round(60  + 120 * t);
            const r2 = Math.round(15  + 45  * t);
            const b2 = Math.round(50  + 110 * t);
            hiColor  = `${r}, ${g}, ${b}`;
            midColor = `${r2}, ${g}, ${b2}`;
          } else {
            const gb    = Math.round(255 * (1 - t));
            const midR  = Math.round(180 * t + 255 * (1 - t));
            const midGB = Math.round(gb * 0.5);
            hiColor  = `255, ${gb}, ${gb}`;
            midColor = `${midR}, ${midGB}, ${midGB}`;
          }
          toggleRevealStyle.textContent = `
            .floating-btn::before {
              background: radial-gradient(
                80px circle at var(--rx, -9999px) var(--ry, -9999px),
                rgba(${hiColor}, 0.95),
                rgba(${midColor}, 0.45) 45%,
                transparent 70%
              );
            }
          `;
        }

        window.addEventListener('scroll', updateProgress, { passive: true });
        window.addEventListener('resize', updateProgress, { passive: true });
        updateProgress();

        // ==================== Reveal Highlightï¼ˆä»…æ¡Œé¢ï¼‰====================
        if (isDesktop) {

          const canvas = document.getElementById('menuRevealCanvas');
          const ctx    = canvas.getContext('2d');
          let cachedMenuRect = null;
          let lastMouseX = -9999;
          let lastMouseY = -9999;

          // Reveal ç›®æ ‡åˆ—è¡¨ï¼šæ¯ä¸ªç›®æ ‡åªéœ€å£°æ˜å…ƒç´ ã€æ„Ÿåº”èŒƒå›´ã€è·ç¦»ç­–ç•¥
          // æ–°å¢ç›®æ ‡åªè¦åœ¨è¿™é‡ŒåŠ ä¸€è¡Œå³å¯ï¼ŒhandleMove ä¸éœ€è¦æ”¹åŠ¨
          const revealTargets = [
            { el: menuToggle,      range: 60,  alwaysOn: true,  distFn: distToRect     },
            { el: sideMenuWrapper, range: 80,  alwaysOn: false, distFn: distToRect     },
            { el: menuRightEl,     range: 80,  alwaysOn: false, distFn: distToRect     },
            { el: closeBtn,        range: 80,  alwaysOn: false, distFn: distToTopEdge  },
          ];

          function resizeCanvas() {
            if (!document.body.classList.contains('menu-open')) return;
            const r = chapterList.getBoundingClientRect();
            canvas.width       = r.width;
            canvas.height      = r.height;
            canvas.style.left  = r.left + 'px';
            canvas.style.top   = r.top  + 'px';
            cachedMenuRect = r;
          }

          const redrawAfterScroll = createDebounce(() => {
            if (document.body.classList.contains('menu-open')) {
              resizeCanvas();
              drawDividerGlow(lastMouseX, lastMouseY);
            }
          }, 150);

          chapterList.addEventListener('scroll', () => {
            if (document.body.classList.contains('menu-open')) {
              requestAnimationFrame(() => {
                resizeCanvas();
                ctx.clearRect(0, 0, canvas.width, canvas.height);
              });
              redrawAfterScroll.call();
            }
          }, { passive: true });

          function drawDividerGlow(mouseX, mouseY) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (!document.body.classList.contains('menu-open')) return;

            const style    = getComputedStyle(document.body);
            const colorHi  = style.getPropertyValue('--reveal-hi').trim();
            const colorMid = style.getPropertyValue('--reveal-mid').trim();

            // resizeCanvas å·²è´Ÿè´£å°ºå¯¸åŒæ­¥ï¼Œæ­¤å¤„ç›´æ¥ä½¿ç”¨ cachedMenuRect
            const menuRect = cachedMenuRect || chapterList.getBoundingClientRect();

            // ç”¨å°è£…å¥½çš„ distToRect åˆ¤æ–­é¼ æ ‡æ˜¯å¦åœ¨æ„Ÿåº”èŒƒå›´å†…
            const radius = 80;
            if (distToRect(mouseX, mouseY, menuRect) > radius) return;

            const items = chapterList.querySelectorAll('.chapter-item:not(:last-child)');
            items.forEach(item => {
              const itemRect  = item.getBoundingClientRect();
              const lineY     = itemRect.bottom - menuRect.top;
              const lineLeft  = itemRect.left   - menuRect.left + 8;
              const lineRight = itemRect.right  - menuRect.left - 8;

              if (lineY < 0 || lineY > canvas.height) return;

              const nearestX = Math.max(lineLeft, Math.min(mouseX - menuRect.left, lineRight));
              const dist     = Math.hypot(
                mouseX - menuRect.left - nearestX,
                mouseY - menuRect.top  - lineY
              );
              if (dist > radius) return;

              const intensity = 1 - dist / radius;
              const gx   = mouseX - menuRect.left;
              const grad = ctx.createRadialGradient(gx, lineY, 0, gx, lineY, radius);
              grad.addColorStop(0,   `rgba(${colorHi},${1.0 * intensity})`);
              grad.addColorStop(0.4, `rgba(${colorMid},${0.65 * intensity})`);
              grad.addColorStop(1,   `rgba(${colorMid},0)`);

              ctx.beginPath();
              ctx.moveTo(lineLeft,  lineY);
              ctx.lineTo(lineRight, lineY);
              ctx.lineWidth   = 1;
              ctx.strokeStyle = grad;
              ctx.stroke();
            });
          }

          function clearAllReveal() {
            revealTargets.forEach(({ el }) => clearRevealVar(el));
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            canvas.classList.remove('active');
          }

          function handleMove(e) {
            if (e.pointerType && e.pointerType !== 'mouse') return;
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
            const menuActive = document.body.classList.contains('menu-open');

            // ç»Ÿä¸€å¾ªç¯å¤„ç†æ‰€æœ‰ Reveal ç›®æ ‡ï¼Œæ— éœ€ä¸ºæ¯ä¸ªç›®æ ‡å†™ç‰¹åˆ¤åˆ†æ”¯
            revealTargets.forEach(({ el, range, alwaysOn, distFn }) => {
              if (!alwaysOn && !menuActive) {
                clearRevealVar(el);
                return;
              }
              updateRevealVar(el, e.clientX, e.clientY, range, distFn);
            });

            if (menuActive) {
              if (!cachedMenuRect) resizeCanvas();
              canvas.classList.add('active');
              drawDividerGlow(e.clientX, e.clientY);
            }
          }

          document.addEventListener('pointermove',  handleMove);
          document.addEventListener('pointerup',    handleMove);
          document.addEventListener('pointerleave', clearAllReveal);
          window.addEventListener('blur',           clearAllReveal);

          window.addEventListener('resize', () => {
            cachedMenuRect = null;
            resizeCanvas();
            updateProgress();
          });

        } // end isDesktop

      </script>

   </body>

</html>