<!DOCTYPE html>
<html lang="zh-CN">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>01.29 - ğ€ğğŸğšğ®ğ­ğ®ğ¦ğ§</title>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <link rel="icon" href="https://avatars.githubusercontent.com/u/195545824?v=4">
   <style>
      /* ==================== åŸºç¡€æ ·å¼ ==================== */
      *, *::before, *::after {
         box-sizing: border-box;
      }

      * {
         margin: 0;
         padding: 0;
      }

      body {
         background-color: #0d0d0d;
         color: #fff;
         font-family: Arial, sans-serif;
         line-height: 1.6;
         padding: 20px;
         max-width: 1000px;
         margin: 0 auto;
         position: relative;
         min-height: 200vh;
         transition: background-color 0.5s ease, color 0.5s ease;
         overflow-x: hidden;
      }

      /* ==================== CSS å˜é‡ï¼šç»Ÿä¸€é¢œè‰²ç®¡ç† ==================== */
      :root {
         /* æš—è‰²æ¨¡å¼ Reveal é¢œè‰² */
         --reveal-color-hi: 180, 205, 255;
         --reveal-color-mid: 108, 143, 255;
         /* äº®è‰²æ¨¡å¼ Reveal é¢œè‰² */
         --reveal-color-hi-light: 80, 80, 180;
         --reveal-color-mid-light: 60, 60, 160;
         
         /* å½“å‰ä½¿ç”¨çš„é¢œè‰²ï¼ˆé»˜è®¤æš—è‰²ï¼‰ */
         --reveal-hi: var(--reveal-color-hi);
         --reveal-mid: var(--reveal-color-mid);
         
         /* åˆ†éš”çº¿é¢œè‰² */
         --divider-color: rgba(255, 255, 255, 0.3);
      }

      /* ==================== ä¸»é¢˜æ ·å¼ ==================== */
      body.dark-mode {
         background-color: #121212;
         color: #ffffff;
         --reveal-hi: var(--reveal-color-hi);
         --reveal-mid: var(--reveal-color-mid);
         --divider-color: rgba(255, 255, 255, 0.3);
      }
      
      body.light-mode {
         background-color: #fff;
         color: #000;
         --reveal-hi: var(--reveal-color-hi-light);
         --reveal-mid: var(--reveal-color-mid-light);
         --divider-color: rgba(0, 0, 0, 0.3);
      }
      
      body.dark-mode .header { border-bottom-color: #333; }
      body.dark-mode .title { color: #fff; }
      body.dark-mode .summary { color: #ccc; }
      body.dark-mode .date { color: #999; }
      body.dark-mode .tag { background-color: #333; color: #fff; }
      body.dark-mode h1, body.dark-mode h2, body.dark-mode h3,
      body.dark-mode h4, body.dark-mode h5, body.dark-mode h6 {
         border-bottom-color: #333;
         color: #fff;
      }
      body.dark-mode .comments { border-top-color: #333; }

      body.light-mode .header { border-bottom-color: #ddd; }
      body.light-mode .title { color: #000; }
      body.light-mode .summary { color: #666; }
      body.light-mode .date { color: #777; }
      body.light-mode .tag { background-color: #eee; color: #000; }
      body.light-mode h1, body.light-mode h2, body.light-mode h3,
      body.light-mode h4, body.light-mode h5, body.light-mode h6 {
         border-bottom-color: #ddd;
         color: #000;
      }
      body.light-mode .comments { border-top-color: #ddd; }

      /* ==================== æ–‡ç« å†…å®¹æ ·å¼ ==================== */
      .header {
         margin-bottom: 9px;
         padding: 20px;
         padding-bottom: 3px;
         border-bottom: 1px solid #333;
         transition: border-color 0.5s ease;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .title {
         font-size: 2.5rem;
         margin-bottom: 3px;
         color: #fff;
         transition: color 0.5s ease;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .summary {
         font-size: 1.1rem;
         margin-bottom: 3px;
         color: #ccc;
         transition: color 0.5s ease;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .date {
         color: #999;
         font-size: 0.9rem;
         margin-bottom: 3px;
         transition: color 0.5s ease;
      }

      .tags {
         display: flex;
         flex-wrap: wrap;
         gap: 10px;
         margin-bottom: 3px;
      }

      .tag {
         background-color: #333;
         color: #fff;
         padding: 2px 10px;
         border-radius: 3px;
         font-size: 0.9rem;
         transition: background-color 0.5s ease, color 0.5s ease;
      }

      .content {
         padding: 20px;
         padding-top: 0px;
         margin-bottom: 50px;
         transition: color 0.5s ease;
         overflow-x: hidden;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      /* ==================== Markdownå†…å®¹æ ·å¼ ==================== */
      .content p {
         margin-top: 0;
         margin-bottom: 0.3em;
         line-height: 1.5;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .content h1, .content h2, .content h3,
      .content h4, .content h5, .content h6 {
         margin: 1.5em 0 0.5em;
         padding-bottom: 10px;
         border-bottom: 1px solid #333;
         transition: border-color 0.5s ease, color 0.5s ease;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .content ul, .content ol {
         margin: 0.8em 0;
         padding-left: 2em;
      }

      .content li {
         margin: 0.3em 0;
         line-height: 1.6;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .content pre {
         margin: 1em 0;
         padding: 1em;
         background-color: #f5f5f5;
         border-radius: 4px;
         overflow-x: auto;
         white-space: pre;
         max-width: 100%;
      }

      body.dark-mode .content pre { background-color: #2d2d2d; color: #f8f8f2; }

      .content code {
         font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
         font-size: 0.9em;
      }

      .content p code {
         background-color: #f5f5f5;
         padding: 0.2em 0.4em;
         border-radius: 3px;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      body.dark-mode .content p code { background-color: #3a3a3a; color: #f8f8f2; }

      .content blockquote {
         margin: 1em 0;
         padding: 0.5em 1em;
         border-left: 4px solid #ddd;
         background-color: #f9f9f9;
         color: #666;
         border-radius: 5px;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      body.dark-mode .content blockquote { border-left-color: #555; background-color: #2a2a2a; color: #ccc; }

      .table-wrapper { overflow-x: auto; margin: 20px 0; max-width: 100%; }

      .content table {
         margin: 1em 0;
         border-collapse: collapse;
         width: 100%;
         max-width: 100%;
      }

      .content th, .content td {
         border: 1px solid #ddd;
         padding: 0.5em 1em;
         text-align: left;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
         max-width: 300px;
      }

      .content th { background-color: #f5f5f5; font-weight: 600; }
      body.dark-mode .content th { background-color: #333; border-color: #444; }
      body.dark-mode .content td { border-color: #444; }

      .content img { max-width: 100%; height: auto; margin: 1em 0; border-radius: 4px; display: block; }
      .content hr { margin: 2em 0; border: none; border-top: 1px solid #ddd; }

      .content a {
         color: #4da6ff;
         text-decoration: none;
         border-bottom: 1px dotted rgba(77, 166, 255, 0.5);
         transition: all 0.3s ease;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      body.dark-mode .content a { color: #6bb8ff; border-bottom: 1px dotted rgba(107, 184, 255, 0.5); }

      .content a:hover {
         color: #fff;
         border-bottom: 1px solid rgba(77, 166, 255, 0.8);
         background-color: rgba(77, 166, 255, 0.1);
      }

      body.dark-mode .content a:hover {
         color: #fff;
         border-bottom: 1px solid rgba(107, 184, 255, 0.8);
         background-color: rgba(107, 184, 255, 0.1);
      }

      /* ==================== è¯„è®ºåŒº ==================== */
      .comments {
         margin-top: 50px;
         padding: 20px;
         border-top: 1px solid #333;
         transition: border-color 0.5s ease;
      }

      /* ==================== äºšå…‹åŠ›æµ®åŠ¨æŒ‰é’® ==================== */
      .floating-btn {
         position: fixed;
         bottom: 30px;
         right: 30px;
         width: 60px;
         height: 60px;
         border-radius: 50%;
         display: flex;
         justify-content: center;
         align-items: center;
         cursor: pointer;
         font-size: 24px;
         z-index: 1000;
         border: 1px solid rgba(255, 255, 255, 0.12);
         outline: none;
         background: rgba(20, 20, 20, 0.55);
         backdrop-filter: blur(20px) saturate(180%);
         -webkit-backdrop-filter: blur(20px) saturate(180%);
         transition: background 0.3s ease, border-color 0.3s ease;
      }

      body.light-mode .floating-btn {
         background: rgba(255, 255, 255, 0.55);
         border-color: rgba(0, 0, 0, 0.1);
         color: #000;
      }

      /* ==================== é®ç½© ==================== */
      .menu-mask {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.3);
         backdrop-filter: blur(2px);
         -webkit-backdrop-filter: blur(2px);
         z-index: 998;
         display: none;
         transition: opacity 0.3s ease;
      }
      .menu-mask.active { display: block; }

      /* ==================== äºšå…‹åŠ›ä¾§è¾¹èœå• wrapper ==================== */
      .side-menu-wrapper {
         position: fixed;
         bottom: 30px;
         right: 30px;
         width: 250px;
         height: 400px;
         max-width: calc(100vw - 60px);
         border-radius: 12px;
         z-index: 999;
         display: none;
         pointer-events: none;
      }

      .side-menu-wrapper.active {
         display: block;
         animation: menuAppear 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
      }

      @keyframes menuAppear {
         0%   { transform: scale(0.1); opacity: 0; }
         100% { transform: scale(1);   opacity: 1; }
      }

      /* Reveal è¾¹æ¡†å±‚ï¼šä½¿ç”¨ CSS å˜é‡ */
      .side-menu-wrapper::before {
         content: '';
         position: absolute;
         inset: -1px;
         border-radius: inherit;
         padding: 1px;
         background: radial-gradient(
            150px circle at var(--rx, -9999px) var(--ry, -9999px),
            rgba(var(--reveal-hi), 0.95),
            rgba(var(--reveal-mid), 0.45) 45%,
            transparent 70%
         );
         -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
         -webkit-mask-composite: xor;
         mask-composite: exclude;
         pointer-events: none;
         z-index: 1;
      }

      /* ==================== äºšå…‹åŠ›ä¾§è¾¹èœå• ==================== */
      .side-menu {
         position: relative;
         width: 100%;
         height: 100%;
         border-radius: 12px;
         display: none;
         flex-direction: row;
         overflow: hidden;
         background: rgba(18, 18, 18, 0.6);
         backdrop-filter: blur(24px) saturate(180%);
         -webkit-backdrop-filter: blur(24px) saturate(180%);
         border: 1px solid rgba(255, 255, 255, 0.1);
         pointer-events: auto;
         transition: background 0.5s ease, border-color 0.5s ease;
      }

      body.light-mode .side-menu {
         background: rgba(255, 255, 255, 0.6);
         border-color: rgba(0, 0, 0, 0.08);
      }

      .side-menu.active {
         display: flex;
      }

      /* ==================== èœå•å·¦ä¾§ï¼šç« èŠ‚åˆ—è¡¨ ==================== */
      .menu-left {
         position: relative;
         width: 200px;
         padding: 20px;
         overflow-y: auto;
         scrollbar-width: none;
         background: transparent;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
      }

      .menu-left::-webkit-scrollbar { display: none; }

      /* menu-left çš„ Reveal å‘å…‰è¾¹æ¡†ï¼šå·²ç§»é™¤ï¼Œé¿å…åµŒå¥—å…‰æ•ˆ */
      /*
      .menu-left::before {
         content: '';
         position: absolute;
         inset: -1px;
         border-radius: 12px 0 0 12px;
         padding: 1px;
         background: radial-gradient(
            60px circle at var(--rx, -9999px) var(--ry, -9999px),
            rgba(var(--reveal-hi), 0.9),
            rgba(var(--reveal-mid), 0.4) 45%,
            transparent 70%
         );
         -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
         -webkit-mask-composite: xor;
         mask-composite: exclude;
         pointer-events: none;
         z-index: 2;
      }
      */

      /* Canvas å åŠ å±‚ï¼šfixed å®šä½ï¼Œä¸“é—¨ç”»ç« èŠ‚åˆ†éš”çº¿çš„å‘å…‰ */
      #menuRevealCanvas {
         position: fixed;
         pointer-events: none;
         z-index: 1001;
         opacity: 0;
         transition: opacity 0.2s;
      }
      #menuRevealCanvas.active { opacity: 1; }

      /* ç« èŠ‚é¡¹ï¼šä½¿ç”¨ä¼ªå…ƒç´ å®ç°åº•éƒ¨åˆ†éš”çº¿ */
      .chapter-item {
         padding: 10px 0;
         cursor: pointer;
         color: rgba(255, 255, 255, 0.7);
         transition: color 0.2s, padding-left 0.2s;
         word-wrap: break-word;
         word-break: break-word;
         overflow-wrap: break-word;
         position: relative;
      }

      /* ä½¿ç”¨ ::after ä¼ªå…ƒç´ å®ç°åº•éƒ¨åˆ†éš”çº¿ï¼Œå·¦å³ç•™ 8px ç©ºéš™ */
      .chapter-item::after {
         content: '';
         position: absolute;
         bottom: 0;
         left: 8px;
         right: 8px;
         height: 1px;
         background: var(--divider-color);
      }

      /* æœ€åä¸€ä¸ª item ä¸æ˜¾ç¤ºåˆ†éš”çº¿ */
      .chapter-item:last-child::after {
         display: none;
      }

      body.light-mode .chapter-item {
         color: rgba(0, 0, 0, 0.7);
      }

      .chapter-item.h1-item { padding-left: 0; }
      .chapter-item.h2-item { padding-left: 14px; color: rgba(255,255,255,0.45); font-size: 0.9em; }
      .chapter-item.h3-item { padding-left: 28px; color: rgba(255,255,255,0.3);  font-size: 0.85em; }

      body.light-mode .chapter-item.h2-item { color: rgba(0,0,0,0.45); }
      body.light-mode .chapter-item.h3-item { color: rgba(0,0,0,0.3); }

      .chapter-item:hover { color: #f00; }
      .chapter-item.h1-item:hover { padding-left: 5px; }
      .chapter-item.h2-item:hover { padding-left: 19px; }
      .chapter-item.h3-item:hover { padding-left: 33px; }
      
      .chapter-item.current { color: red !important; }
      .chapter-item.hovered { color: red !important; }

      /* ==================== èœå•å³ä¾§ï¼šæŒ‰é’®åŒº ==================== */
      .menu-right {
         position: relative;
         width: 50px;
         height: 100%;
         display: flex;
         flex-direction: column;
         background: rgba(0, 0, 0, 0.2);
         border-left: 1px solid rgba(255, 255, 255, 0.07);
         transition: background 0.5s ease, border-left-color 0.5s ease;
      }

      body.light-mode .menu-right {
         background: rgba(0, 0, 0, 0.05);
         border-left-color: rgba(0, 0, 0, 0.06);
      }

      /* menu-right çš„ Reveal å‘å…‰ï¼šå·²ç§»é™¤ï¼Œé¿å…åµŒå¥—å…‰æ•ˆ */
      /*
      .menu-right::before {
         content: '';
         position: absolute;
         inset: -1px;
         border-radius: 0 12px 12px 0;
         padding: 1px;
         background: radial-gradient(
            130px circle at var(--rx, -9999px) var(--ry, -9999px),
            rgba(var(--reveal-hi), 0.7),
            rgba(var(--reveal-mid), 0.3) 45%,
            transparent 70%
         );
         -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
         -webkit-mask-composite: xor;
         mask-composite: exclude;
         pointer-events: none;
         z-index: 2;
      }
      */

      .menu-buttons {
         flex: 1;
         display: flex;
         flex-direction: column;
         justify-content: space-between;
         align-items: center;
         padding: 20px 0;
         width: 100%;
      }

      .menu-btn {
         color: rgba(255, 255, 255, 0.75);
         background: none;
         border: none;
         cursor: pointer;
         transition: all 0.2s;
         font-size: 20px;
         width: 50px;
         height: 47px;
         text-align: center;
         border-radius: 0;
         display: flex;
         justify-content: center;
         align-items: center;
      }

      body.light-mode .menu-btn { color: rgba(0, 0, 0, 0.6); }
      .menu-btn:hover { color: #f00; background-color: rgba(255, 0, 0, 0.1); }

      .close-btn {
         height: 50px;
         background: rgba(0, 0, 0, 0.15);
         color: rgba(255, 255, 255, 0.6);
         border: none;
         border-top: 1px solid rgba(255, 255, 255, 0.07);
         cursor: pointer;
         font-size: 16px;
         transition: background 0.2s, color 0.2s, border-top-color 0.5s ease;
         width: 100%;
      }

      body.light-mode .close-btn {
         background: rgba(0, 0, 0, 0.04);
         color: rgba(0, 0, 0, 0.5);
         border-top-color: rgba(0, 0, 0, 0.06);
      }

      .close-btn:hover { color: #f00; background-color: rgba(255, 0, 0, 0.08); }

      /* ==================== Revealï¼šfloating-btn ==================== */
      .floating-btn::before {
         content: '';
         position: absolute;
         inset: -1px;
         border-radius: 50%;
         padding: 1px;
         background: radial-gradient(
            80px circle at var(--rx, -9999px) var(--ry, -9999px),
            rgba(var(--reveal-hi), 0.95),
            rgba(var(--reveal-mid), 0.45) 45%,
            transparent 70%
         );
         -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
         -webkit-mask-composite: xor;
         mask-composite: exclude;
         pointer-events: none;
      }

      /* ==================== æ¡Œé¢ç«¯éšè—é™æ€è¾¹æ¡† ==================== */
      @media (hover: hover) and (pointer: fine) {
         /* æ¡Œé¢ç«¯ï¼šéšè—é™æ€åˆ†éš”çº¿å’Œè¾¹æ¡†ï¼Œåªæ˜¾ç¤ºå…‰æ•ˆ */
         .chapter-item::after {
            display: none;
         }
         
         .side-menu {
            border: none;
         }
         
         .menu-right {
            border-left: none;
         }
         
         .close-btn {
            border-top: none;
         }
      }

      .header, .floating-btn, .side-menu, .comments {
         user-select: none;
         -webkit-user-select: none;
         -webkit-touch-callout: none;
      }
      
   </style>
</head>

<body class="dark-mode">
   <div class="header">
      <h1 class="title">01.29</h1>
      <p class="summary">æš‚æ— ç®€ä»‹</p>
      <div class="date">2026-01-29</div>
      <div class="tags">
         <span class="tag">è®°å½•</span>
         <span class="tag">æ™®é€š</span>
      </div>
   </div>

   <div class="content">
      <p>ä¸‹åˆ:<br>
ä½ æƒ³åˆ°äº†ä¸€äº›ä¸œè¥¿<br>
ä½ åœ¨å“­<br>
ä½ åˆåœ¨ç¬‘<br>
ä½ åœ¨å“­,ä½ åˆåœ¨ç¬‘<br>
çªç„¶ä½ åˆæƒ³,å€˜è‹¥ä¸æ˜¯ä½ çœŸçš„è¿˜æœ‰ä¸€ä¸ªåå«"ç†æ™º"çš„ä¸œè¥¿å­˜åœ¨ç€,ææ€•ä½ çœŸçš„å°±æ˜¯å¾ˆæ˜æ˜¾çš„ç²¾ç¥æœ‰é—®é¢˜äº†<br>
ç„¶è€Œé‚£æ˜¯ç‹¬å±äºæ™®é€šäººçš„å¾…é‡<br>
ä¸å±äºä½ </p>
<p>å‚æ™š:<br>
ä½ æ­£åœ¨åƒé¥­,åŒæ—¶ä½ æ­£åœ¨å‘å‘†</p>
<blockquote>
<p>In the brain:[<br>
??:"å°å­©"<br>
??:"åœ¨å¹²å˜›"<br>
You:æ­£åœ¨è¿›é£Ÿ<br>
??:"é‚£ä½ å…ˆåƒ"<br>
(ä¸€ä¼šä¹‹å)<br>
??:"åœ¨å¹²å˜›"<br>
You:æ­£åœ¨è¿›é£Ÿ<br>
??:"ä½ ç»§ç»­"<br>
(å‡ ååˆ†é’Ÿä¹‹å)<br>
??:"è¿˜åœ¨åƒå—"<br>
You:æ­£åœ¨æš´é¥®æš´é£Ÿ<br>
??:"......"<br>
??:"ä¼¤èº«ä½“,ä¸è¿‡èº«ä½“æ˜¯ä½ çš„éšä¾¿ä½ "<br>
You:ä½ æ˜¯åœ¨å…³å¿ƒæˆ‘å‘¢,è¿˜æ˜¯åœ¨è¸©æˆ‘<br>
You:å°½ç®¡å¹¶æ²¡æœ‰ä»€ä¹ˆå¥½åƒçš„,ä¸è¿‡æ˜¯çœŸçš„æ— èŠçš„è¦æ­»äº†,æ²¡ä»€ä¹ˆåšçš„,åªèƒ½ä¸åœçš„è¿›é£Ÿäº†<br>
??:"å¤šå»æ‰¾ç‚¹äº‹åš"<br><br>
......<br><br>
AB:"åœ¨å¹²å˜›w"<br>
You:åƒé¥­<br>
AB:"é‚£ä½ å…ˆåƒå§ww"<br>
You:......<br>
(......)<br>
AB:"è¿˜åœ¨åƒå—?"<br>
You:å—¯<br>
AB:"å°‘åƒç‚¹,å¤šå»æ‰¾ç‚¹äº‹åš"<br>
AB:"æš´é£Ÿå¾ˆä¼¤èº«ä½“"<br>
You:å—¯...è°¢è°¢ä½ <br>
......<br>
]</p>
</blockquote>
<p>æ­£åœ¨æƒ³ç€è¿™äº›,ä½ åˆæƒ³åˆ°äº†äº›,ä½ æ˜¨å¤©çœ‹åˆ°çš„</p>
<blockquote>
<p>In the brain:[<br>
"<br>
Title:åŸç”Ÿå®¶åº­çš„åˆ›ä¼¤æ€»æ˜¯ä»¤äººéš¾ä»¥ç½®ä¿¡<br><br>
ç¬¬ä¸€æ¬¡è®©æˆ‘å¥³æœ‹å‹åšé¥­,å¥¹ç…®äº†ä¸€é”…ç³Šç³Š,æˆ‘çœ‹ç€ä¸æ˜¯å¾ˆå¥½åƒçš„æ ·å­,åƒäº†ä¹Ÿæ˜¯,æˆ‘é—®å¥¹è¿™å¥½åƒå—?å¥¹è¯´å¥½åƒ,ä¸è¿‡æˆ‘éš¾ä»¥ç†è§£<br>
ç›´åˆ°å¥¹åé¢å’Œæˆ‘è¯´,æˆ‘æ‰çŸ¥é“,å¥¹ä»å°åˆ°å¤§éƒ½æ˜¯ä¸€ä¸ªäººåšçš„é¥­,å°±é•¿è¿™æ ·<br>
çœ‹ç€å¥¹åœ¨å¨æˆ¿é‡Œå¿™ç¢Œçš„èº«å½±,æˆ‘åˆçœ‹åˆ°äº†åœ¨æ¡Œå­ä¸Šæ”¾ç€çš„éš”å¤œèœ<br>
æˆ‘é—®å¥¹,éƒ½éš”å¤œäº†ä¸ºå•¥è¿˜æ”¾ç€,å¥¹è¯´éš”å¤œäº†åˆæ²¡å˜å‘³,è¿˜èƒ½åƒ.ä¸è¿‡æˆ‘å®¶éƒ½æ˜¯å½“å¤©ç°åšçš„,åƒä¸å®Œå°±å¤„ç†æ‰äº†<br><br>
ä¸Šæ¬¡å«å¥¹åšé¥­å·²ç»æ˜¯å¾ˆä¹…ä»¥å‰äº†,ç°åœ¨å¥¹ä¹Ÿä¹ æƒ¯äº†åƒä¸å®Œå°±æ‘†åœ¨æ¡Œå­ä¸Š,éš”å¤œèœå°±å€’æ‰<br>
æˆ‘å¾ˆå¥½å¥‡å¥¹ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°å’Œæˆ‘åœ¨ä¸€èµ·,æˆ‘ä¹Ÿå¹¶ä¸èƒ½åšä»€ä¹ˆ,ç„¶è€Œå¥¹çš„å›ç­”è®©æˆ‘ä¹…ä¹…ä¸èƒ½å¹³å¤<br>
'å› ä¸ºä½ çœ‹èµ·æ¥å¾ˆå¹¸ç¦å‘€,æ‰€ä»¥æˆ‘æƒ³å¦‚æœå«ç»™ä½ æˆ‘ä¹Ÿä¸€å®šä¼šå¾ˆå¹¸ç¦'<br>
ç¡®å®,ç°åœ¨,å¥¹æ˜¯å¹¸ç¦çš„<br>
"<br>
]</p>
</blockquote>
<p>åŒæ—¶,ä½ åˆæƒ³åˆ°äº†äº›åˆ«çš„<br>
å¹¸ç¦?<br>
...<br>
ä»¥å¾€ä½ æ€»æ˜¯æ€•ä½ çš„å°è¡¨å¼Ÿä¹±æä½ çš„ä¸œè¥¿,å› æ­¤ä½ æ€»æ˜¯æ”¶èµ·æ¥</p>
<p>è¿˜ä¸æ˜¯XXXæ€»æ˜¯æ‰‹è´±,ä¸ç„¶æˆ‘ä¹Ÿä¸è‡³äºè¿™æ ·<br>
"å’¦,ä½ èˆ…æ¯å¬åˆ°äº†ä¸æ‰‡æ­»ä½ ,ä½ æ˜¯å«æ¥äººå®¶åšå®¢çš„è¯´äººå®¶æ‰‹è´±"<br>
ä¸è¿‡é‚£æ—¶å€™æˆ‘æ²¡æƒ³è¿™ä¹ˆå¤š<br>
æˆ‘ç”šè‡³åªæ˜¯è§‰å¾—,æœ‰å¯èƒ½<br>
è™½ç„¶èˆ…æ¯è„¾æ°”å¾ˆå¥½,ä¸è¿‡æœ‰ç‚¹æŠ¤çŠŠå­<br>
ç°åœ¨çœ‹æ¥,åªæ˜¯æœ‰ç‚¹æç¬‘<br>
æˆ‘åœ¨åšäº›ä»€ä¹ˆ<br>
ç¡®å®,æˆ‘ç°åœ¨ä¹Ÿåœ¨ç¬‘<br>
ç„¶è€Œå´åˆç¬‘ä¸èµ·æ¥äº†<br>
é‚£æ—¶å€™,é‚£äº›ä»¤æˆ‘ç”˜ä¹‹å¦‚é¥´çš„<br>
é‚£æ—¶å€™,æˆ‘å°±ä»¥ä¸ºé‚£æ˜¯æˆ‘çš„ä¸€åˆ‡,ç„¶è€Œ,é‚£ä¸æ˜¯<br>
é‚£æ—¶å€™,æˆ‘å°±ä»¥ä¸º,å¤–å©†å¥¹ä»¬,å°±æ˜¯æˆ‘çš„ä¸€åˆ‡,å°±ä¼šæ˜¯æˆ‘çš„ä¸€åˆ‡<br>
é‚£å°±æ˜¯æˆ‘çš„ä¸€åˆ‡<br>
æ²¡æœ‰ä»»ä½•ä¸€åˆ‡æ˜¯æˆ‘çš„...<br>
æˆ‘åˆå“­äº†<br>
æˆ‘åˆç¬‘ä¸èµ·æ¥äº†<br>
é‚£æ—¶å€™,æˆ‘å°±ä»¥ä¸ºé‚£å°±æ˜¯æˆ‘çš„ä¸€åˆ‡,é‚£ä¸€åˆ‡å°±éƒ½æ˜¯æˆ‘çš„<br>
ç„¶è€Œæˆ‘ä¹Ÿåªæ˜¯ä½œä¸ºä¸€ä¸ª"è¿‡å®¢"è€Œå­˜åœ¨ç€è€Œå·²<br>
æˆ‘æƒ³å¤ªå¤š</p>
   </div>

   <div class="comments"></div>

   <button class="floating-btn" id="menuToggle" style="color: #fff">â˜°</button>

   <div class="menu-mask" id="menuMask"></div>

   <div class="side-menu-wrapper" id="sideMenuWrapper">
      <div class="side-menu" id="sideMenu">
         <div class="menu-left" id="chapterList"></div>
         <div class="menu-right">
            <div class="menu-buttons">
               <button class="menu-btn" id="toBottomBtn">â–¼</button>
               <button class="menu-btn" id="middleBtn">â—</button>
               <button class="menu-btn" id="toTopBtn">â–²</button>
            </div>
            <button class="close-btn" id="closeBtn">â•³</button>
         </div>
      </div>
   </div>

   <!-- Canvas å åŠ å±‚ï¼šä¸“é—¨ç”»ç« èŠ‚åˆ†éš”çº¿çš„å‘å…‰ -->
   <canvas id="menuRevealCanvas"></canvas>

   <script>
     const menuToggle      = document.getElementById('menuToggle');
     const sideMenuWrapper = document.getElementById('sideMenuWrapper');
     const sideMenu        = document.getElementById('sideMenu');
     const menuMask        = document.getElementById('menuMask');
     const closeBtn        = document.getElementById('closeBtn');
     const toBottomBtn     = document.getElementById('toBottomBtn');
     const middleBtn       = document.getElementById('middleBtn');
     const toTopBtn        = document.getElementById('toTopBtn');
     const chapterList     = document.getElementById('chapterList');
     const menuLeftEl      = document.querySelector('.menu-left');
     const menuRightEl     = document.querySelector('.menu-right');

     // === 1. æ”¶é›† h1/h2/h3ï¼Œç”Ÿæˆå”¯ä¸€ ID ===
     const allHeadings = Array.from(
       document.querySelectorAll('.content h1, .content h2, .content h3')
     ).filter(h => h.textContent.trim() !== '');

     allHeadings.forEach((heading, index) => {
       if (!heading.id) heading.id = `heading-${index}`;
     });

     // === 2. ä¸»é¢˜åˆ‡æ¢ ===
     function applyTheme() {
       const savedTheme  = localStorage.getItem('theme');
       const configTheme = "dark";
       const mode = savedTheme || configTheme;
       document.body.classList.toggle('light-mode', mode === 'light');
       document.body.classList.toggle('dark-mode',  mode !== 'light');
     }
     applyTheme();

     // === 3. ç”Ÿæˆç« èŠ‚å¯¼èˆª ===
     // çŠ¶æ€ç®¡ç†
     let currentId   = null;  // scroll çŠ¶æ€è¿½è¸ªçš„ ID
     let hoveredItem = null;  // hover çŠ¶æ€ï¼šå½“å‰æ‚¬åœçš„ item å…ƒç´ 
     let activeState = 'scroll'; // ä¸‰æ€ï¼š'scroll' | 'hover' | 'menu'
     
     let hoverScrollTimer = null;
     let menuScrollTimer = null;
     let isMenuScrolling = false;
     let hoverLocked = false; // æ–°å¢ï¼šhover é”å®šæ ‡å¿—

     allHeadings.forEach(heading => {
       const listItem  = document.createElement('div');
       const level     = parseInt(heading.tagName.substring(1));
       const classMap  = { 1: 'h1-item', 2: 'h2-item', 3: 'h3-item' };
       listItem.className   = `chapter-item ${classMap[level] || 'h1-item'}`;
       listItem.textContent = heading.textContent;
       listItem.dataset.id  = heading.id;

       // ç‚¹å‡»æ»šåŠ¨åˆ°å¯¹åº”æ ‡é¢˜
       listItem.addEventListener('click', (e) => {
         e.stopPropagation();
         heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
         closeMenu();
       });

       // hover çŠ¶æ€ï¼šæ¡Œé¢ç«¯ç”¨ pointerenter/leave
       listItem.addEventListener('pointerenter', (e) => {
         if (e.pointerType === 'mouse' && !hoverLocked) {
           onItemPointerEnter(listItem);
         }
       });
       
       listItem.addEventListener('pointerleave', (e) => {
         if (e.pointerType === 'mouse') {
           onItemPointerLeave();
         }
       });

       // ç§»åŠ¨ç«¯é•¿æŒ‰
       listItem.addEventListener('touchstart', (e) => {
          e.preventDefault(); // é˜²æ­¢ä¸æ»šåŠ¨å†²çª
          if (!hoverLocked) {
            onItemPointerEnter(listItem);
          }
       });

       // ç§»åŠ¨ç«¯è§¦æ‘¸ç§»åŠ¨æ—¶ï¼Œå¦‚æœç§»åŠ¨å¹…åº¦è¾ƒå¤§ï¼Œè§†ä¸ºæ»šåŠ¨æ„å›¾ï¼Œæ¸…é™¤æ‚¬åœçŠ¶æ€
       listItem.addEventListener('touchmove', (e) => {
         if (Math.abs(e.movementY) > 5) { // é˜ˆå€¼å¯è°ƒ
             onItemPointerLeave();
         }
       });

       chapterList.appendChild(listItem);
     });

     // === 4. é«˜äº®ä¸æ»šåŠ¨é€»è¾‘ ===
     
     // è®¾ç½®é«˜äº®ï¼šä¸¥æ ¼äº’æ–¥ï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªé«˜äº®
     function setHighlight(id) {
       // æ¸…é™¤æ‰€æœ‰é«˜äº®çŠ¶æ€
       document.querySelectorAll('.chapter-item.current, .chapter-item.hovered')
         .forEach(i => i.classList.remove('current', 'hovered'));
       
       if (!id) return;
       
       const item = document.querySelector(`.chapter-item[data-id="${id}"]`);
       if (!item) return;
       
       // ä¸¥æ ¼æ ¹æ®çŠ¶æ€è®¾ç½®é«˜äº®
       if (activeState === 'hover') {
         // hover çŠ¶æ€ï¼šåªé«˜äº® hoveredItem
         if (hoveredItem && hoveredItem.dataset.id === id) {
           item.classList.add('hovered');
         }
       } else {
         // scroll æˆ– menu çŠ¶æ€ï¼šé«˜äº® current
         item.classList.add('current');
       }
     }

     // æ»šåŠ¨èœå•åˆ°æŒ‡å®š item å±…ä¸­
     function scrollMenuToItem(id) {
       const item = document.querySelector(`.chapter-item[data-id="${id}"]`);
       if (!item) return;
       
       const container       = chapterList;
       const itemTop         = item.offsetTop;
       const itemHeight      = item.offsetHeight;
       const containerHeight = container.clientHeight;
       const scrollTarget    = itemTop - (containerHeight - itemHeight) / 2;
       
       if (container.scrollHeight > containerHeight) {
         container.scrollTo({ top: Math.max(0, scrollTarget), behavior: 'smooth' });
       }
     }

     // è·å–èœå•ä¸­å¿ƒæœ€è¿‘çš„ item ID
     function getCenteredItemId() {
       const items      = chapterList.querySelectorAll('.chapter-item');
       const containerR = chapterList.getBoundingClientRect();
       const centerY    = containerR.top + containerR.height / 2;
       
       let best = null, bestDist = Infinity;
       items.forEach(item => {
         const r    = item.getBoundingClientRect();
         const mid  = r.top + r.height / 2;
         const dist = Math.abs(mid - centerY);
         if (dist < bestDist) { 
           bestDist = dist; 
           best = item; 
         }
       });
       
       return best ? best.dataset.id : null;
     }

     // === çŠ¶æ€ï¼šscrollï¼ˆé¡µé¢æ»šåŠ¨é©±åŠ¨ï¼‰===
     function applyScrollState(id) {
       if (activeState === 'hover') return; // hover æœŸé—´ä¸è¦†ç›–
       activeState = 'scroll';
       currentId   = id;
       setHighlight(id);
       if (!isMenuScrolling) scrollMenuToItem(id);
     }

     function updateActiveHeading() {
       if (allHeadings.length === 0) return;
       const scrollY = window.scrollY;
       const offset  = 80;
       let current   = allHeadings[0];

       for (let i = 0; i < allHeadings.length; i++) {
         const top = allHeadings[i].getBoundingClientRect().top + scrollY;
         if (top <= scrollY + offset) current = allHeadings[i];
         else break;
       }

       if (current.id !== currentId || activeState !== 'scroll') {
         applyScrollState(current.id);
       }
     }

     if (allHeadings.length > 0) {
       currentId = allHeadings[0].id;
       applyScrollState(currentId);
     }

     window.addEventListener('scroll', updateActiveHeading, { passive: true });

     // === çŠ¶æ€ï¼šhoverï¼ˆé¼ æ ‡æ‚¬åœï¼‰===
     function onItemPointerEnter(item) {
       if (hoverLocked) return; // é”å®šæœŸé—´å¿½ç•¥æ–°çš„ hover
       
       hoveredItem = item;
       activeState = 'hover';
       setHighlight(item.dataset.id);
       
       // é˜²æŠ– 350ms åæ»šåŠ¨å±…ä¸­ï¼Œå¹¶å¯åŠ¨é”å®šæœŸ
       clearTimeout(hoverScrollTimer);
       hoverScrollTimer = setTimeout(() => {
         if (hoveredItem === item && activeState === 'hover') {
           hoverLocked = true; // å¼€å§‹é”å®š
           scrollMenuToItem(item.dataset.id);
           
           // æ»šåŠ¨å®Œæˆå 500ms è§£é™¤é”å®š
           setTimeout(() => {
             hoverLocked = false;
           }, 500);
         }
       }, 350);
     }

     function onItemPointerLeave() {
       if (hoveredItem) {
         hoveredItem.classList.remove('hovered'); // ç¡®ä¿ç§»é™¤hoveredç±»
       }
       hoveredItem = null;
       clearTimeout(hoverScrollTimer);
       
       // æ¢å¤ scroll çŠ¶æ€
       activeState = 'scroll';
       setHighlight(currentId);
       scrollMenuToItem(currentId);
     }

     // === çŠ¶æ€ï¼šmenuï¼ˆèœå•åˆ—è¡¨æ»šåŠ¨ï¼‰===
     chapterList.addEventListener('scroll', () => {
       if (activeState === 'hover') return; // hover æœŸé—´å¿½ç•¥èœå•æ»šåŠ¨
       
       isMenuScrolling = true;
       // å½“èœå•å¼€å§‹æ»šåŠ¨æ—¶ï¼Œç«‹å³æ¸…é™¤æ‚¬åœçŠ¶æ€ï¼Œé˜²æ­¢å†²çª
       if (activeState === 'hover') {
         onItemPointerLeave(); // è¿™ä¼šå°† activeState è®¾ç½®ä¸º 'scroll'
       }
       activeState = 'menu'; // ç¡®ä¿çŠ¶æ€å˜ä¸º 'menu'

       clearTimeout(menuScrollTimer);
       menuScrollTimer = setTimeout(() => {
         isMenuScrolling = false;
         
         // æ‰¾åˆ°æœ€é è¿‘ä¸­å¿ƒçš„ item
         const centerId = getCenteredItemId();
         if (centerId) {
           // å…ˆæ»šåŠ¨å¯¹é½
           scrollMenuToItem(centerId);
           
           // ç­‰æ»šåŠ¨å®Œæˆåé«˜äº®ï¼Œå¹¶ä¿æŒåœ¨ menu çŠ¶æ€ï¼ˆä¸å›é€€ï¼‰
           setTimeout(() => {
             if (activeState === 'menu') {
               setHighlight(centerId);
               // ç§»é™¤è‡ªåŠ¨å›é€€é€»è¾‘ï¼Œä¿æŒåœ¨ menu çŠ¶æ€
             }
           }, 300);
         }
       }, 600);
     }, { passive: true });

     // ç§»åŠ¨ç«¯æ¾æ‰‹/å–æ¶ˆåæ¸…é™¤ hover æ®‹ç•™
     chapterList.addEventListener('touchend',    () => { if (hoveredItem) onItemPointerLeave(); });
     chapterList.addEventListener('touchcancel', () => { if (hoveredItem) onItemPointerLeave(); });
     chapterList.addEventListener('pointerup',   (e) => {
       if (e.pointerType !== 'mouse' && hoveredItem) onItemPointerLeave();
     });

     // === 5. èœå•æ§åˆ¶ ===
     function openMenu() {
       sideMenuWrapper.classList.add('active');
       sideMenu.classList.add('active');
       menuMask.classList.add('active');
       menuToggle.style.display = 'none';
       if (currentId) scrollMenuToItem(currentId);
     }

     function closeMenu() {
       sideMenuWrapper.classList.remove('active');
       sideMenu.classList.remove('active');
       menuMask.classList.remove('active');
       menuToggle.style.display = 'flex';
       // å…³é—­èœå•æ—¶æ¸…é™¤æ‰€æœ‰çŠ¶æ€å’Œå…‰æ•ˆ
       activeState = 'scroll';
       hoveredItem = null;
       clearTimeout(hoverScrollTimer);
       clearTimeout(menuScrollTimer);
       isMenuScrolling = false;
       hoverLocked = false;
       clearAllReveal(); // æ¸…é™¤å…‰æ•ˆ
     }

     menuToggle.addEventListener('click',  (e) => { e.stopPropagation(); openMenu(); });
     closeBtn.addEventListener('click',    (e) => { e.stopPropagation(); closeMenu(); });
     menuMask.addEventListener('click',    (e) => { e.stopPropagation(); closeMenu(); });
     sideMenu.addEventListener('click',    (e) => e.stopPropagation());

     toBottomBtn.addEventListener('click', (e) => {
       e.stopPropagation();
       window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
       closeMenu();
     });

     middleBtn.addEventListener('click', (e) => {
       e.stopPropagation();
       const middle = (document.documentElement.scrollHeight - window.innerHeight) / 2;
       window.scrollTo({ top: middle, behavior: 'smooth' });
       closeMenu();
     });

     toTopBtn.addEventListener('click', (e) => {
       e.stopPropagation();
       window.scrollTo({ top: 0, behavior: 'smooth' });
       closeMenu();
     });

     // === 6. æ»šåŠ¨è¿›åº¦æŒ‡ç¤ºå™¨ ===
     function updateProgress() {
       const scrollHeight   = document.documentElement.scrollHeight - window.innerHeight;
       const scrollPosition = window.scrollY;
       const scrollPercent  = scrollHeight > 0 ? Math.min(scrollPosition / scrollHeight, 1) : 0;
       const redValue       = Math.floor(scrollPercent * 255);
       menuToggle.style.backgroundColor = `rgb(${redValue}, 0, 0)`;
       menuToggle.style.boxShadow       = 'none';
     }

     window.addEventListener('scroll', updateProgress, { passive: true });
     window.addEventListener('resize', updateProgress, { passive: true });
     updateProgress();

     // ==================== Reveal Highlight ====================
     const isDesktop = window.matchMedia('(hover: hover) and (pointer: fine)').matches;

     if (isDesktop) {

     const canvas = document.getElementById('menuRevealCanvas');
     const ctx    = canvas.getContext('2d');

     // æ›´æ–° canvas å°ºå¯¸å’Œä½ç½®
     function resizeCanvas() {
       if (!sideMenuWrapper.classList.contains('active')) return;
       const r = menuLeftEl.getBoundingClientRect();
       canvas.width  = r.width;
       canvas.height = r.height;
       canvas.style.left = r.left + 'px';
       canvas.style.top  = r.top  + 'px';
     }

     // ç”»ç« èŠ‚åˆ†éš”çº¿çš„å‘å…‰ï¼šè€ƒè™‘ scrollTop åç§»
     function drawDividerGlow(mouseX, mouseY) {
       ctx.clearRect(0, 0, canvas.width, canvas.height);
       if (!sideMenuWrapper.classList.contains('active')) return;

       // è·å–å½“å‰ä¸»é¢˜çš„é¢œè‰²
       const computedStyle = getComputedStyle(document.documentElement);
       const revealHi  = computedStyle.getPropertyValue('--reveal-hi').trim();
       const revealMid = computedStyle.getPropertyValue('--reveal-mid').trim();

       const menuRect = menuLeftEl.getBoundingClientRect();
       const scrollTop = menuLeftEl.scrollTop;
       const items = menuLeftEl.querySelectorAll('.chapter-item');
       const radius = 80;

       // æ£€æŸ¥é¼ æ ‡æ˜¯å¦åœ¨èœå•èŒƒå›´å†…
       const mdx   = Math.max(menuRect.left - mouseX, 0, mouseX - menuRect.right);
       const mdy   = Math.max(menuRect.top  - mouseY, 0, mouseY - menuRect.bottom);
       const mdist = Math.sqrt(mdx * mdx + mdy * mdy);
       if (mdist > radius) return;

       // éå†æ‰€æœ‰ itemï¼Œæœ€åä¸€ä¸ªä¸ç”»åˆ†éš”çº¿
       items.forEach((item, index) => {
         if (index === items.length - 1) return; // æœ€åä¸€ä¸ªä¸ç”»
         
         // ä½¿ç”¨ offsetTop è·å–ç›¸å¯¹äºçˆ¶å®¹å™¨çš„ä½ç½®
         const itemOffsetBottom = item.offsetTop + item.offsetHeight;
         // Canvas åæ ‡ = offsetTop - scrollTop
         const lineY = itemOffsetBottom - scrollTop;
         
         // åˆ†éš”çº¿å·¦å³ç•™ 8px
         const lineLeft  = 8;
         const lineRight = canvas.width - 8;
         
         // è®¡ç®—é¼ æ ‡åˆ°åˆ†éš”çº¿çš„æœ€è¿‘è·ç¦»
         const mouseCanvasX = mouseX - menuRect.left;
         const mouseCanvasY = mouseY - menuRect.top;
         const nearestX = Math.max(lineLeft, Math.min(mouseCanvasX, lineRight));
         const dist = Math.hypot(mouseCanvasX - nearestX, mouseCanvasY - lineY);

         if (dist > radius) return;

         // ç»˜åˆ¶å‘å…‰
         const intensity = 1 - dist / radius;
         const grad = ctx.createRadialGradient(mouseCanvasX, lineY, 0, mouseCanvasX, lineY, radius);
         grad.addColorStop(0,   `rgba(${revealHi}, ${0.9 * intensity})`);
         grad.addColorStop(0.4, `rgba(${revealMid}, ${0.4 * intensity})`);
         grad.addColorStop(1,   `rgba(${revealMid}, 0)`);

         ctx.beginPath();
         ctx.moveTo(lineLeft,  lineY);
         ctx.lineTo(lineRight, lineY);
         ctx.lineWidth   = 1;
         ctx.strokeStyle = grad;
         ctx.stroke();
       });
     }

     const revealTargets = [
       { el: menuToggle,       range: 60,  alwaysOn: true  },
       { el: sideMenuWrapper,  range: 80,  alwaysOn: false },
       { el: menuLeftEl,       range: 80,  alwaysOn: false }, // è™½ç„¶CSSç§»é™¤äº†::beforeï¼Œä½†ä»ç”¨äºmousemoveäº‹ä»¶
       { el: menuRightEl,      range: 80,  alwaysOn: false },
     ];

     function clearAllReveal() {
       revealTargets.forEach(({ el }) => {
         el?.style.setProperty('--rx', '-9999px');
         el?.style.setProperty('--ry', '-9999px');
       });
       ctx.clearRect(0, 0, canvas.width, canvas.height);
       canvas.classList.remove('active');
     }

     function handleMove(e) {
       if (e.pointerType && e.pointerType !== 'mouse') return;
       const menuActive = sideMenuWrapper.classList.contains('active');

       revealTargets.forEach(({ el, range, alwaysOn }) => {
         if (!el) return;
         if (!alwaysOn && !menuActive) {
           el.style.setProperty('--rx', '-9999px');
           el.style.setProperty('--ry', '-9999px');
           return;
         }
         
         const r    = el.getBoundingClientRect();
         const dx   = Math.max(r.left - e.clientX, 0, e.clientX - r.right);
         const dy   = Math.max(r.top  - e.clientY, 0, e.clientY - r.bottom);
         const dist = Math.sqrt(dx * dx + dy * dy);
         
         if (dist <= range) {
           el.style.setProperty('--rx', (e.clientX - r.left) + 'px');
           el.style.setProperty('--ry', (e.clientY - r.top)  + 'px');
         } else {
           el.style.setProperty('--rx', '-9999px');
           el.style.setProperty('--ry', '-9999px');
         }
       });

       // æ›´æ–° canvas åˆ†éš”çº¿å‘å…‰
       if (menuActive) {
         resizeCanvas();
         canvas.classList.add('active');
         drawDividerGlow(e.clientX, e.clientY);
       }
     }

     document.addEventListener('pointermove',  handleMove);
     document.addEventListener('mousemove',    handleMove);
     document.addEventListener('pointerup',    handleMove);
     document.addEventListener('mouseup',      handleMove);
     document.addEventListener('pointerleave', clearAllReveal);
     document.addEventListener('mouseleave',   clearAllReveal);
     window.addEventListener('blur',           clearAllReveal);
     window.addEventListener('resize',         resizeCanvas);
     // åœ¨èœå•å…³é—­æ—¶ä¹Ÿæ¸…é™¤å…‰æ•ˆ
     window.addEventListener('click', (e) => {
         if (!sideMenuWrapper.contains(e.target) && !menuToggle.contains(e.target) && sideMenuWrapper.classList.contains('active')) {
             clearAllReveal();
         }
     });

     } // end isDesktop

   </script>

</body>

</html>