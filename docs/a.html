<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>é˜¿ç™½,ç”Ÿæ—¥å¿«ä¹!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            touch-action: none;
        }
        
        body, html {
            width: 100%;
            height: 100%;
            overflow: hidden;
            position: fixed;
            top: 0;
            left: 0;
        }
        
        body {
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow: hidden;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        
        .sections-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        .section {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform: translateX(100%);
            z-index: 1;
            overflow: hidden;
        }
        
        .section.active {
            transform: translateX(0);
        }
        
        .section.next {
            transform: translateX(100%);
        }
        
        .section.prev {
            transform: translateX(-100%);
        }
        
        /* èƒŒæ™¯æ¼‚æµ®å…ƒç´  */
        .floating-bg {
            position: absolute;
            bottom: -50px;
            font-size: 30px;
            opacity: 0.7;
            z-index: 0;
            animation: floatUp linear infinite;
            pointer-events: none;
        }
        
        .floating-heart {
            position: absolute;
            bottom: -50px;
            font-size: 40px;
            color: #ff4757;
            z-index: 0;
            animation: floatUpRotate linear infinite;
            pointer-events: none;
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(calc(-100vh - 50px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        @keyframes floatUpRotate {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(calc(-100vh - 50px)) rotate(var(--rotate-end, 720deg));
                opacity: 0;
            }
        }
        
        /* ç¬¬ä¸€éƒ¨åˆ†ï¼šç”Ÿæ—¥ç¥ç¦å¡ç‰‡ */
        .birthday-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            z-index: 1;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .birthday-card:hover {
            transform: translateY(-5px);
        }
        
        .birthday-card h1 {
            color: #ff6b81;
            margin-bottom: 20px;
            font-size: 2.2em;
        }
        
        .blessing-line {
            font-size: 1.3em;
            line-height: 1.8;
            margin: 20px 0;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        
        .blessing-line.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .continue-btn {
            background: linear-gradient(45deg, #ff6b81, #ff4757);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease-out;
            box-shadow: 0 5px 15px rgba(255, 107, 129, 0.4);
        }
        
        .continue-btn.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .continue-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 107, 129, 0.6);
        }
        
        /* ç¬¬äºŒéƒ¨åˆ†ï¼šç”Ÿæ—¥æ„¿æœ› */
        .wish-container {
            width: 90%;
            max-width: 600px;
            text-align: center;
        }
        
        .wish-title {
            color: white;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .wish-input {
            width: 100%;
            height: 200px;
            padding: 20px;
            font-size: 1.2em;
            border: none;
            border-radius: 15px;
            margin-bottom: 20px;
            resize: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
        
        .wish-input:focus {
            outline: none;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            transform: translateY(-5px);
        }
        
        .wish-continue-btn {
            display: none;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
            transition: all 0.3s;
        }
        
        .wish-continue-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.6);
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ - ä¿®å¤ä½ç½®é—®é¢˜ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .modal {
            background: white;
            padding: 40px;
            border-radius: 15px;
            width: 100%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal h2 {
            color: #ff6b81;
            margin-bottom: 20px;
        }
        
        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .modal-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .modal-btn.yes {
            background: #4CAF50;
            color: white;
        }
        
        .modal-btn.no {
            background: #f44336;
            color: white;
        }
        
        .modal-btn:hover {
            transform: scale(1.05);
        }
        
        /* ç¬¬ä¸‰éƒ¨åˆ†ï¼šç…§ç‰‡å¢™ - åŒåˆ—æ¨ªå‘ç€‘å¸ƒæµ */
        .photo-section {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .photo-wall-container {
            width: 100%;
            height: 70vh;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow: hidden;
            position: relative;
        }
        
        .photo-row {
            display: flex;
            height: 50%;
            position: relative;
            overflow: hidden;
        }
        
        .photo-scroll-left {
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            height: 100%;
            animation: scrollLeft 7s linear infinite;
        }
        
        .photo-scroll-right {
            position: absolute;
            top: 0;
            right: 0;
            display: flex;
            height: 100%;
            animation: scrollRight 7s linear infinite;
        }
        
        @keyframes scrollLeft {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
        
        @keyframes scrollRight {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(50%);
            }
        }
        
        .photo-item {
            width: 250px;
            height: 100%;
            margin: 0 15px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            flex-shrink: 0;
            position: relative;
        }
        
        .photo-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.2em;
            text-align: center;
            padding: 20px;
        }
        
        .photo-item:nth-child(1) .photo-placeholder {
            background: linear-gradient(45deg, #ff6b81, #ff4757);
        }
        
        .photo-item:nth-child(2) .photo-placeholder {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }
        
        .photo-item:nth-child(3) .photo-placeholder {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        
        .photo-item:nth-child(4) .photo-placeholder {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
        }
        
        .photo-item:nth-child(5) .photo-placeholder {
            background: linear-gradient(45deg, #FF9800, #F57C00);
        }
        
        .photo-item:nth-child(6) .photo-placeholder {
            background: linear-gradient(45deg, #009688, #00796B);
        }
        
        /* ç¬¬å››éƒ¨åˆ†ï¼šç”Ÿæ—¥ç¤¼ç‰© */
        .gift-container {
            text-align: center;
            color: white;
        }
        
        .gift-title {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .gift-hint {
            font-size: 1.1em;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .gift-selection {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .gift-box {
            font-size: 100px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .gift-box:hover {
            transform: scale(1.2) rotate(10deg);
        }
        
        .gift-box.selected {
            animation: giftShake 0.5s ease-in-out;
        }
        
        @keyframes giftShake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        .gift-result {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 20px;
            border-radius: 15px;
            margin: 20px auto;
            max-width: 500px;
            font-size: 1.2em;
        }
        
        .gift-result-stored {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 20px;
            border-radius: 15px;
            margin: 20px auto;
            max-width: 500px;
            font-size: 1.2em;
        }
        
        .skip-btn {
            background: transparent;
            color: white;
            border: 2px solid white;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
        }
        
        .skip-btn:hover {
            background: white;
            color: #764ba2;
        }
        
        /* ç¬¬äº”éƒ¨åˆ†ï¼šç»ˆå±€ç¥ç¦ - ä¿®æ”¹ä¸ºå¯ç‚¹å‡» */
        .final-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 50px 40px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
            z-index: 1;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .final-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
        }
        
        .final-card h1 {
            color: #ff6b81;
            font-size: 2.5em;
            margin-bottom: 30px;
        }
        
        .final-blessing {
            font-size: 1.3em;
            line-height: 1.8;
            margin: 20px 0;
        }
        
        .click-hint {
            margin-top: 30px;
            font-size: 1.1em;
            color: #ff6b81;
            opacity: 0.8;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        /* ç¬¬å…­éƒ¨åˆ†ï¼šç©ºç™½é¡µé¢ */
        .blank-page {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 50px;
            width: 90%;
            max-width: 600px;
            text-align: center;
        }
        
        .blank-page h2 {
            color: #667eea;
            margin-bottom: 20px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .birthday-card, .final-card, .blank-page {
                padding: 30px 20px;
            }
            
            .gift-selection {
                gap: 30px;
            }
            
            .gift-box {
                font-size: 80px;
            }
            
            .photo-item {
                width: 200px;
            }
            
            .wish-title, .gift-title {
                font-size: 2em;
            }
            
            .modal {
                padding: 30px 20px;
            }
            
            .final-card h1 {
                font-size: 2em;
            }
            
            .final-blessing {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <!-- Base64æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="base64Modal">
        <div class="modal">
            <h2>âœ¨ ä½ çš„æ„¿æœ›å·²ç¼–ç  âœ¨</h2>
            <p>å°½ç®¡æ„¿æœ›è¯´å‡ºæ¥å°±ä¸çµäº†,ä½†æ˜¯ä½ æ„¿æ„å‘Šè¯‰æˆ‘å—?</p>
            <textarea id="base64Text" readonly style="width: 100%; height: 100px; margin: 20px 0; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-family: monospace; -webkit-user-select: text; -moz-user-select: text; -ms-user-select: text; user-select: text;"></textarea>
            <p>æ˜¯å¦å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Ÿ</p>
            <div class="modal-buttons">
                <button class="modal-btn yes" id="copyBtn">æ˜¯ï¼Œå¤åˆ¶</button>
                <button class="modal-btn no" id="noCopyBtn">å¦ï¼Œç»§ç»­</button>
            </div>
        </div>
    </div>
    
    <div class="sections-container">
        <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šç”Ÿæ—¥ç¥ç¦å¡ç‰‡ -->
        <section id="section1" class="section active">
            <div class="birthday-card" id="birthdayCard">
                <h1>ğŸ‚ ç”Ÿæ—¥å¿«ä¹ï¼ ğŸ‚</h1>
                <div id="blessingLines">
                    <div class="blessing-line">æ„¿ä½ çš„ä»Šå¤©å……æ»¡æ¬¢ç¬‘ä¸å¿«ä¹</div>
                    <div class="blessing-line">æ„¿ä½ çš„æ„¿æœ›éƒ½èƒ½ä¸€ä¸€å®ç°</div>
                    <div class="blessing-line">æ„¿æœªæ¥çš„æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰</div>
                    <div class="blessing-line">æ„¿ä½ æ°¸è¿œä¿æŒè¿™é¢—çº¯çœŸçš„å¿ƒ</div>
                    <div class="blessing-line">ç”Ÿæ—¥å¿«ä¹ï¼Œæˆ‘æœ€äº²çˆ±çš„æœ‹å‹ï¼</div>
                </div>
                <button class="continue-btn" id="continueBtn1">ç»§ç»­ â†’</button>
            </div>
        </section>
        
        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šç”Ÿæ—¥æ„¿æœ› -->
        <section id="section2" class="section">
            <div class="wish-container">
                <h1 class="wish-title">è®¸ä¸ªæ„¿å§</h1>
                <textarea class="wish-input" id="wishInput" placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„ç”Ÿæ—¥æ„¿æœ›..."></textarea>
                <button class="wish-continue-btn" id="wishContinueBtn">ç»§ç»­ â†’</button>
            </div>
        </section>
        
        <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šè¿‡å¾€æ—¶å…‰ -->
        <section id="section3" class="section">
            <div class="photo-section">
                <h1 class="wish-title">ğŸ“¸ è¿‡å¾€æ—¶å…‰ ğŸ“¸</h1>
                <div class="photo-wall-container">
                    <div class="photo-row">
                        <div class="photo-scroll-left" id="scrollLeft">
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸˆ ç¾å¥½å›å¿† ğŸˆ</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">âœ¨ æ¬¢ä¹æ—¶åˆ» âœ¨</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ‚ ç”Ÿæ—¥åº†ç¥ ğŸ‚</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ æƒŠå–œç¬é—´ ğŸ</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ¥³ æ´¾å¯¹æ—¶å…‰ ğŸ¥³</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ‰ ç¾å¥½ç¥ç¦ ğŸ‰</div>
                            </div>
                        </div>
                    </div>
                    <div class="photo-row">
                        <div class="photo-scroll-right" id="scrollRight">
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸŒ… æ—¥å‡ºæ—¶åˆ» ğŸŒ…</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ¨ åˆ›æ„æ—¶å…‰ ğŸ¨</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ° ç”œèœœåˆ†äº« ğŸ°</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸµ éŸ³ä¹æ—‹å¾‹ ğŸµ</div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸŒ  æ˜Ÿç©ºå¤œæ™š ğŸŒ </div>
                            </div>
                            <div class="photo-item">
                                <div class="photo-placeholder">ğŸ’– çè´µæ—¶åˆ» ğŸ’–</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ç¬¬å››éƒ¨åˆ†ï¼šç”Ÿæ—¥ç¤¼ç‰© -->
        <section id="section4" class="section">
            <div class="gift-container">
                <h1 class="gift-title">ğŸ é€‰æ‹©ä½ çš„æƒŠå–œ ğŸ</h1>
                
                <div id="giftSelectionArea">
                    <!-- è¿™é‡Œä¼šåŠ¨æ€æ¸²æŸ“ç¤¼ç‰©é€‰æ‹©æˆ–å·²é€‰ç»“æœ -->
                </div>
                
                <button class="continue-btn" id="continueBtn4" style="display: none;">ç»§ç»­ â†’</button>
            </div>
        </section>
        
        <!-- ç¬¬äº”éƒ¨åˆ†ï¼šç»ˆå±€ç¥ç¦ - ä¿®æ”¹ä¸ºå¯ç‚¹å‡» -->
        <section id="section5" class="section">
            <div class="final-card" id="finalCard">
                <h1>ğŸ’– ç¥ç¦ ğŸ’–</h1>
                <p class="final-blessing">æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å¦‚ä»Šå¤©èˆ¬ç¿çƒ‚</p>
                <p class="final-blessing">æ„¿ä½ çš„æ¯ä¸€æ­¥éƒ½èµ°å‘å¿ƒä¸­çš„è¿œæ–¹</p>
                <p class="final-blessing">æ„¿ä½ çš„æ¯ä¸ªæ¢¦æƒ³éƒ½èƒ½ç»½æ”¾å…‰èŠ’</p>
                <p class="final-blessing">æ„¿ä½ çš„ç”Ÿå‘½ä¹‹æ­Œæ°¸è¿œæ¬¢å¿«æ‚ æ‰¬</p>
                <p class="final-blessing">ç”Ÿæ—¥å¿«ä¹ï¼Œæ„¿ç¾å¥½å¸¸ä¼´ä½ å·¦å³ï¼</p>
                <div class="click-hint">ç‚¹å‡»ç»§ç»­ â†’</div>
            </div>
        </section>
        
        <!-- ç¬¬å…­éƒ¨åˆ†ï¼šç©ºç™½é¡µé¢ -->
        <section id="section6" class="section">
            <div class="blank-page">
                <h2>ğŸˆ ç•™ç»™ä½ çš„ç©ºé—´ ğŸˆ</h2>
                <p style="font-size: 1.2em; line-height: 1.6; margin: 20px 0;">
                    è¿™ä¸ªé¡µé¢ç•™ç»™ä½ ï¼Œ<br>
                    å¯ä»¥æ·»åŠ ä½ æƒ³æ”¾çš„å†…å®¹ï¼Œ<br>
                    æˆ–è€…ä¿å­˜è¿™ä»½ç‰¹åˆ«çš„è®°å¿†ã€‚
                </p>
                <div style="margin-top: 30px; font-size: 3em;">
                    ğŸ’
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // å½“å‰éƒ¨åˆ†ç´¢å¼•
            let currentSection = 1;
            const totalSections = 6;
            const giftOptions = [
                "é€ä½ ä¸‰åƒä¸‡ï¼šåƒä¸‡è¦å°å¿ƒï¼Œåƒä¸‡è¦å¹¸ç¦ï¼Œåƒä¸‡è¦å¿«ä¹",
                "éšæœºæ»¡è¶³ä½ ä¸€ä¸ªå°æ„¿æœ›",
                "å”±é¦–æ­Œç»™ä½ å¬",
                "æˆ‘ä»¬è¿˜åšæœ‹å‹å¥½å—ğŸ¥º",
                "ç½šä½ å¿…é¡»å›æˆ‘ä¸€æ¡æ¶ˆæ¯"
            ];
            
            // é˜»æ­¢æ‰€æœ‰é»˜è®¤çš„è§¦æ‘¸è¡Œä¸º
            document.addEventListener('touchmove', function(e) {
                e.preventDefault();
            }, { passive: false });
            
            // é˜»æ­¢åŒæŒ‡æåˆç¼©æ”¾
            document.addEventListener('gesturestart', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('gesturechange', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('gestureend', function(e) {
                e.preventDefault();
            });
            
            // é˜»æ­¢æ–‡æœ¬é€‰æ‹©
            document.addEventListener('selectstart', function(e) {
                e.preventDefault();
            });
            
            // åˆ›å»ºæ¼‚æµ®èƒŒæ™¯å…ƒç´ 
            function createFloatingElements() {
                const section1 = document.getElementById('section1');
                const section5 = document.getElementById('section5');
                
                // ç¬¬ä¸€éƒ¨åˆ†æ¼‚æµ®å…ƒç´ 
                const symbols1 = ['ğŸˆ', 'ğŸ', 'ğŸ‰'];
                for (let i = 0; i < 20; i++) {
                    const element = document.createElement('div');
                    element.className = 'floating-bg';
                    element.textContent = symbols1[Math.floor(Math.random() * symbols1.length)];
                    element.style.left = Math.random() * 100 + 'vw';
                    element.style.animationDuration = (Math.random() * 10 + 10) + 's';
                    element.style.animationDelay = Math.random() * 5 + 's';
                    section1.appendChild(element);
                }
                
                // ç¬¬äº”éƒ¨åˆ†æ¼‚æµ®å¿ƒå½¢
                for (let i = 0; i < 15; i++) {
                    const element = document.createElement('div');
                    element.className = 'floating-heart';
                    element.textContent = 'â™¥';
                    element.style.left = Math.random() * 100 + 'vw';
                    element.style.animationDuration = (Math.random() * 8 + 8) + 's';
                    element.style.animationDelay = Math.random() * 3 + 's';
                    element.style.setProperty('--rotate-end', (Math.random() * 720 + 360) + 'deg');
                    section5.appendChild(element);
                }
            }
            
            // ç¬¬ä¸€éƒ¨åˆ†ï¼šç”Ÿæ—¥ç¥ç¦é€è¡Œæ˜¾ç¤º
            function showBlessingLines() {
                const lines = document.querySelectorAll('.blessing-line');
                lines.forEach((line, index) => {
                    setTimeout(() => {
                        line.classList.add('visible');
                    }, index * 800); // æ¯è¡Œé—´éš”0.8ç§’æ˜¾ç¤º
                });
                
                // 3ç§’åæ˜¾ç¤ºç»§ç»­æŒ‰é’®
                setTimeout(() => {
                    document.getElementById('continueBtn1').classList.add('visible');
                }, lines.length * 800 + 1000);
            }
            
            // åˆ‡æ¢éƒ¨åˆ†
            function goToSection(sectionNum) {
                if (sectionNum < 1 || sectionNum > totalSections) return;
                
                // è·å–å½“å‰å’Œä¸‹ä¸€ä¸ªéƒ¨åˆ†
                const current = document.getElementById(`section${currentSection}`);
                const next = document.getElementById(`section${sectionNum}`);
                
                // ä»å³ä¾§æ»‘å…¥æ–°éƒ¨åˆ†
                next.classList.remove('next');
                next.classList.add('active');
                
                // å½“å‰éƒ¨åˆ†å‘å·¦æ»‘å‡º
                if (currentSection < sectionNum) {
                    current.classList.remove('active');
                    current.classList.add('prev');
                } 
                // ä»å·¦ä¾§æ»‘å…¥æ–°éƒ¨åˆ†ï¼ˆè¿”å›ä¸Šä¸€é¡µï¼‰
                else if (currentSection > sectionNum) {
                    current.classList.remove('active');
                    current.classList.add('next');
                }
                
                // æ›´æ–°å½“å‰éƒ¨åˆ†ç´¢å¼•
                currentSection = sectionNum;
                
                // ç‰¹æ®Šå¤„ç†ï¼šç¬¬ä¸‰éƒ¨åˆ†6ç§’åè‡ªåŠ¨è·³è½¬
                if (sectionNum === 3) {
                    setTimeout(() => {
                        goToSection(4);
                    }, 6000);
                }
            }
            
            // åˆå§‹åŒ–æ‰€æœ‰éƒ¨åˆ†çš„ä½ç½®
            function initSections() {
                for (let i = 1; i <= totalSections; i++) {
                    const section = document.getElementById(`section${i}`);
                    if (i > 1) {
                        section.classList.add('next');
                        section.classList.remove('active');
                    }
                }
            }
            
            // ç¬¬äºŒéƒ¨åˆ†ï¼šç”Ÿæ—¥æ„¿æœ›å¤„ç†
            function setupWishSection() {
                const wishInput = document.getElementById('wishInput');
                const wishContinueBtn = document.getElementById('wishContinueBtn');
                
                // å½“è¾“å…¥å†…å®¹æ—¶æ˜¾ç¤ºç»§ç»­æŒ‰é’®
                wishInput.addEventListener('input', function() {
                    if (this.value.trim().length > 0) {
                        wishContinueBtn.style.display = 'block';
                        // æ·»åŠ æ·¡å…¥æ•ˆæœ
                        setTimeout(() => {
                            wishContinueBtn.style.opacity = '1';
                            wishContinueBtn.style.transform = 'translateY(0)';
                        }, 10);
                    } else {
                        wishContinueBtn.style.opacity = '0';
                        wishContinueBtn.style.transform = 'translateY(20px)';
                        setTimeout(() => {
                            wishContinueBtn.style.display = 'none';
                        }, 500);
                    }
                });
                
                // ç‚¹å‡»ç»§ç»­æŒ‰é’®æ˜¾ç¤ºBase64æ¨¡æ€æ¡†
                wishContinueBtn.addEventListener('click', function() {
                    const wishText = wishInput.value.trim();
                    if (!wishText) {
                        alert('è¯·è¾“å…¥ä½ çš„ç”Ÿæ—¥æ„¿æœ›ï¼');
                        return;
                    }
                    
                    // è½¬æ¢ä¸ºBase64
                    const base64Wish = btoa(unescape(encodeURIComponent(wishText)));
                    
                    // æ˜¾ç¤ºBase64æ–‡æœ¬
                    document.getElementById('base64Text').value = base64Wish;
                    
                    // æ˜¾ç¤ºæ¨¡æ€æ¡†
                    document.getElementById('base64Modal').style.display = 'flex';
                    
                    // é˜»æ­¢èƒŒæ™¯æ»šåŠ¨
                    document.body.style.overflow = 'hidden';
                });
            }
            
            // å¤åˆ¶åˆ°å‰ªè´´æ¿
            function copyToClipboard() {
                const textarea = document.getElementById('base64Text');
                textarea.select();
                textarea.setSelectionRange(0, 99999); // ç§»åŠ¨ç«¯æ”¯æŒ
                
                try {
                    document.execCommand('copy');
                    alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                } catch (err) {
                    console.error('å¤åˆ¶å¤±è´¥:', err);
                }
                
                // éšè—æ¨¡æ€æ¡†
                document.getElementById('base64Modal').style.display = 'none';
                
                // æ¢å¤èƒŒæ™¯æ»šåŠ¨
                document.body.style.overflow = 'hidden';
                
                // ç»§ç»­åˆ°ä¸‹ä¸€éƒ¨åˆ†
                setTimeout(() => {
                    goToSection(3);
                }, 500);
            }
            
            // ç¬¬å››éƒ¨åˆ†ï¼šç¤¼ç‰©é€‰æ‹©
            function setupGiftSection() {
                const giftSelectionArea = document.getElementById('giftSelectionArea');
                const continueBtn4 = document.getElementById('continueBtn4');
                
                // æ£€æŸ¥localStorageä¸­æ˜¯å¦å·²é€‰æ‹©ç¤¼ç‰©
                const savedGift = localStorage.getItem('birthdayGiftChoice');
                
                if (savedGift) {
                    // å¦‚æœå·²é€‰æ‹©ï¼Œç›´æ¥æ˜¾ç¤ºç»“æœ
                    giftSelectionArea.innerHTML = `
                        <div class="gift-result-stored">
                            <p>ğŸ ä½ ä¹‹å‰å¾—åˆ°çš„æƒŠå–œæ˜¯ï¼š</p>
                            <p><strong>"${savedGift}"</strong></p>
                            <p>æ— æ³•æ›´æ”¹</p>
                        </div>
                    `;
                    continueBtn4.style.display = 'block';
                    setTimeout(() => {
                        continueBtn4.classList.add('visible');
                    }, 100);
                } else {
                    // å¦‚æœæœªé€‰æ‹©ï¼Œæ˜¾ç¤ºé€‰æ‹©ç•Œé¢
                    giftSelectionArea.innerHTML = `
                        <p class="gift-hint">é€‰æ‹©ä¸€ä¸ª"æƒŠå–œ"ï¼Œåªèƒ½é€‰ä¸€ä¸ªå“¦ï¼</p>
                        <div class="gift-selection">
                            <div class="gift-box" data-gift="1">ğŸ</div>
                            <div class="gift-box" data-gift="2">ğŸ</div>
                        </div>
                        <div id="giftResult" class="gift-result" style="display: none;"></div>
                        <button class="skip-btn" id="skipBtn">äººç”Ÿå¦‚æ—·é‡ï¼Œä¸ºä½•è¦æŠ‰æ‹©</button>
                    `;
                    
                    // æ·»åŠ ç¤¼ç‰©é€‰æ‹©äº‹ä»¶
                    const giftBoxes = document.querySelectorAll('.gift-box');
                    const skipBtn = document.getElementById('skipBtn');
                    const giftResult = document.getElementById('giftResult');
                    
                    giftBoxes.forEach(box => {
                        box.addEventListener('click', function() {
                            // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©
                            giftBoxes.forEach(b => b.classList.remove('selected'));
                            
                            // æ ‡è®°é€‰æ‹©
                            this.classList.add('selected');
                            
                            // éšæœºé€‰æ‹©ä¸€ä¸ªç¤¼ç‰©é€‰é¡¹
                            const randomOption = giftOptions[Math.floor(Math.random() * giftOptions.length)];
                            
                            // æ˜¾ç¤ºç»“æœ
                            giftResult.textContent = `ğŸ ç¤¼ç‰©å†…å®¹ï¼š${randomOption}`;
                            giftResult.style.display = 'block';
                            continueBtn4.style.display = 'block';
                            setTimeout(() => {
                                continueBtn4.classList.add('visible');
                            }, 100);
                            
                            // ä¿å­˜åˆ°localStorage
                            localStorage.setItem('birthdayGiftChoice', randomOption);
                            
                            // ç¦ç”¨å…¶ä»–é€‰æ‹©
                            giftBoxes.forEach(b => {
                                if (b !== this) {
                                    b.style.opacity = '0.5';
                                    b.style.cursor = 'not-allowed';
                                }
                            });
                            
                            // éšè—è·³è¿‡æŒ‰é’®
                            if (skipBtn) {
                                skipBtn.style.display = 'none';
                            }
                        });
                    });
                    
                    // è·³è¿‡æŒ‰é’®äº‹ä»¶
                    if (skipBtn) {
                        skipBtn.addEventListener('click', function() {
                            goToSection(5);
                        });
                    }
                }
            }
            
            // ç¬¬äº”éƒ¨åˆ†ï¼šæ·»åŠ å¡ç‰‡ç‚¹å‡»åˆ‡æ¢åŠŸèƒ½
            function setupFinalCardClick() {
                const finalCard = document.getElementById('finalCard');
                if (finalCard) {
                    finalCard.addEventListener('click', function() {
                        goToSection(6);
                    });
                }
            }
            
            // äº‹ä»¶ç›‘å¬
            document.getElementById('birthdayCard').addEventListener('click', function() {
                // ç‚¹å‡»å¡ç‰‡ä¹Ÿå¯ä»¥è§¦å‘ç»§ç»­æŒ‰é’®æ˜¾ç¤º
                const continueBtn = document.getElementById('continueBtn1');
                if (!continueBtn.classList.contains('visible')) {
                    continueBtn.classList.add('visible');
                }
            });
            
            document.getElementById('continueBtn1').addEventListener('click', function() {
                goToSection(2);
            });
            
            document.getElementById('continueBtn4').addEventListener('click', function() {
                goToSection(5);
            });
            
            // æ¨¡æ€æ¡†æŒ‰é’®äº‹ä»¶
            document.getElementById('copyBtn').addEventListener('click', copyToClipboard);
            
            document.getElementById('noCopyBtn').addEventListener('click', function() {
                // éšè—æ¨¡æ€æ¡†
                document.getElementById('base64Modal').style.display = 'none';
                
                // æ¢å¤èƒŒæ™¯æ»šåŠ¨
                document.body.style.overflow = 'hidden';
                
                // ç»§ç»­åˆ°ä¸‹ä¸€éƒ¨åˆ†
                setTimeout(() => {
                    goToSection(3);
                }, 500);
            });
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            document.getElementById('base64Modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.style.display = 'none';
                    document.body.style.overflow = 'hidden';
                }
            });
            
            // åˆå§‹åŒ–
            initSections();
            createFloatingElements();
            showBlessingLines();
            setupWishSection();
            setupGiftSection();
            setupFinalCardClick();
            
            // åˆå§‹åŒ–ç…§ç‰‡å¢™çš„åŒå‘æ»šåŠ¨æ•ˆæœ
            function initPhotoWall() {
                // å…‹éš†å…ƒç´ ä»¥å®ç°æ— ç¼æ»šåŠ¨
                const scrollLeft = document.getElementById('scrollLeft');
                const scrollRight = document.getElementById('scrollRight');
                
                if (scrollLeft && scrollRight) {
                    // å…‹éš†å·¦æ»šåŠ¨å…ƒç´ 
                    const leftClone = scrollLeft.cloneNode(true);
                    scrollLeft.parentNode.appendChild(leftClone);
                    
                    // å…‹éš†å³æ»šåŠ¨å…ƒç´ 
                    const rightClone = scrollRight.cloneNode(true);
                    scrollRight.parentNode.appendChild(rightClone);
                }
            }
            
            // åˆå§‹åŒ–ç…§ç‰‡å¢™
            initPhotoWall();
            
            // ç¡®ä¿é¡µé¢åŠ è½½æ—¶ä¸ä¼šå‡ºç°æ»šåŠ¨æ¡
            document.body.style.overflow = 'hidden';
            document.documentElement.style.overflow = 'hidden';
        });
    </script>
</body>
</html>
